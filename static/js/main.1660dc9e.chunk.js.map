{"version":3,"sources":["pages/Homepage/algorithms.js","pages/Homepage/tickerSearch.js","pages/Homepage/Homepage.js","firebase.js","providers/UserProvider.js","assets/default_avatar.png","pages/Account/Account.js","assets/logo_full_blue.svg","components/Timer/Timer.js","assets/logo_diamond.svg","assets/sign_up_white2.svg","components/AccountManager/SignUp.js","assets/sign_in_white.svg","components/AccountManager/SignIn.js","components/AccountManager/AccountLink.js","components/AccountManager/AccountManager.js","components/Watchlist/Watchlist.js","assets/logo_text.svg","components/TopBar/Topbar.js","pages/Backtest/SMA/SMAChart.js","pages/Backtest/Orders.js","pages/Backtest/SMA/SMA.js","pages/Backtest/EMA/EMAChart.js","pages/Backtest/EMA/EMA.js","pages/Backtest/RSI/RSIChart.js","pages/Backtest/RSI/RSI.js","pages/Backtest/MACD/MACDChart.js","pages/Backtest/MACD/TestMACD.js","pages/Backtest/MACD/MACD.js","pages/Backtest/VWAP/VWAPChart.js","pages/Backtest/VWAP/VWAP.js","pages/Backtest/Backtest.js","pages/DevPage/Devpage.js","App.js","reportWebVitals.js","index.js"],"names":["sma5","MySlider","styled","Slider","color","width","Search","props","setTicker","data","setState","ticker","target","value","toUpperCase","setStartDate","startDate","setEndDate","endDate","setLimit","event","val","limit","state","className","onSubmit","this","type","placeholder","onChange","id","selected","maxDate","Date","placeholderText","filterDate","date","getDay","for","min","max","defaultValue","step","marks","React","Component","sma20","getSMA","period","arr","i","length","push","x","y","j","unshift","getCross","getCandleEMA","multiplier","ema","linetocandle","candledata","getMACD","period1","period2","macd","greater","ema26","ema12","getHistogram","data1","data2","histData","sma20Single","sma5Single","cross","previousCross","buy","test","undefined","Object","values","borderColor","label","text","borderWidth","queryString","require","chartsRef","createRef","hostname","includes","window","location","Homepage","handleSubmit","signal","loading","preventDefault","interval","sDate","eDate","params","query","stringify","fetch","then","res","json","console","log","sma","sma2","annotations","options","chart","group","redrawOnParentResize","title","align","style","fontSize","xaxis","yaxis","decimalsInFloat","labels","colors","minWidth","maxWidth","tooltip","enabled","shared","markers","size","stroke","options2","plotOptions","bar","ranges","from","to","margin","ref","series","name","height","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","setPersistence","Auth","Persistence","SESSION","firestore","generateUserDocument","user","additionalData","a","userRef","doc","uid","get","exists","email","displayName","photoURL","set","getUserDocument","updateUserDocument","update","reload","createStrategyDocument","collection","add","getStrategyDocument","userDocument","UserContext","createContext","UserProvider","componentDidMount","onAuthStateChanged","userAuth","Provider","children","Account","useContext","useState","edit","setEdit","setLoading","setDisplayName","setPhotoURL","watchlist","setWatchlist","onChangeHandler","currentTarget","src","avatar","alt","onClick","htmlFor","error","Timer","time","setTime","useEffect","marketTimer","setInterval","now","difference","compareDate","getTime","seconds","Math","floor","minutes","hours","clearInterval","resetTimer","SignUp","setEmail","password","setPassword","setError","createUserWithEmailAndPasswordHandler","createUserWithEmailAndPassword","code","message","alert","trigger","modal","closeOnDocumentClick","close","welcomeSVG","logoSVG","SignIn","onClose","nested","signInWithEmailAndPassword","catch","signInWithEmailAndPasswordHandler","AccountLink","open","position","offsetY","offsetX","signOut","AccountManager","Watchlist","tickers","toString","map","delta","price","getWatchlistTickers","Topbar","onSetSidebarOpen","sidebarOpen","marketStatus","is_open","getMarketStatus","loggedIn","next_close","next_open","SMAChart","ScaleProvider","discontinuousTimeScaleProviderBuilder","inputDateAccessor","d","MAX_HEIGHT","left","right","top","bottom","longShort","longSMA","shortSMA","long","windowSize","parseInt","merge","c","accessor","short","algo","accumulator","prev","prevShortTerm","prevLongTerm","nowShortTerm","nowLongTerm","buySell","xScale","xAccessor","displayXAccessor","pricesDisplayFormat","format","xExtents","balanceHeight","chartOrigin","barChartOrigin","defaultAnnotationProps","fontFamily","opacity","longAnnotationProps","fill","yScale","datum","low","shortAnnotationProps","high","histValue","sort","b","balanceExtents","timeDisplayFormat","timeFormat","openCloseColor","balanceSeries","ChartCanvas","ratio","MAX_WIDTH","seriesName","zoomAnchor","mouseBasedZoomAnchor","Chart","origin","yExtents","LineSeries","yAccessor","YAxis","showGridLines","gridLinesStrokeStyle","tickFormat","tickLabelFill","XAxis","orient","showTickLabel","showTicks","CurrentCoordinate","SingleValueTooltip","yLabel","yDisplayFormat","valueFill","volume","BarSeries","fillStyle","CandlestickSeries","strokeStyle","MouseCoordinateX","displayFormat","MouseCoordinateY","rectWidth","EdgeIndicator","itemType","lineStroke","MovingAverageTooltip","textFill","Annotate","with","LabelAnnotation","when","usingProps","OHLCTooltip","CrossHairCursor","Orders","bAndH","buyAndHold","orders","lastTradeVal","orderObj","o","deltaClass","abs","originalPrice","SMA","strategy","setUid","setShortSMA","setLongSMA","investment","setInvestment","setData","setOrders","setBuyAndHold","timeParse","entries","key","setParams","autoComplete","formattedData","forEach","buyPercent","sellPercent","EMAChart","longEMA","shortEMA","EMA","setShortEMA","setLongEMA","RSIChart","rsiPeriod","rsiAlgo","rsi","strength","chartHeight","rsiChartOrigin","lastVisibleItemBasedZoomAnchor","padding","ticks","RSISeries","line","middle","outsideThreshold","RSI","setPeriod","MACDChart","macdCalculator","fast","slow","smaVolume50","sourcePath","calculatedData","macdChartOrigin","MACDSeries","macdAppearance","divergence","mouseEdgeAppearance","strokeOpacity","strokeWidth","arrowWidth","MACD","VWAPChart","vwap","Backtest","setStrategy","required","disabled","Devpage","myRSI","elderRay","elder","sma50","sma200","rsiOrigin","candleChartExtents","balance","App","page","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","config","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1660dc9e.chunk.js","sourcesContent":["//universal variables to store the arrays of sma4 and sma20\nvar sma5, sma20 = [];\n\nfunction getSMA(data, period) {\n  var arr = [];\n  var value = 0;\n  for (var i = 0; i <= data.length - period; i++) {\n    if (arr[i - 1]) {\n      arr.push({\n        x: data[i + period - 1].x,\n        y:\n          (arr[i - 1].y * period -\n            data[i - 1].y[3] +\n            data[i + period - 1].y[3]) /\n          period,\n      });\n    } else if (data[i].y[3] !== null) {\n      for (var j = i; j < i + period; j++) {\n        value += data[j].y[3];\n      }\n      arr.push({ x: data[i + period - 1].x, y: value / period });\n      value = 0;\n    }\n  }\n  var length = arr.length + 1;\n  for (var i = 0; i < data.length + 1 - length; i++) {\n    arr.unshift({ x: \"undefined\", y: null });\n  }\n  getCross(arr, period);\n  return arr;\n}\nfunction getCandleEMA(data, period) {\n  var multiplier = 2 / (1 + period);\n  var ema = getSMA(data, period);\n  for (var i = period - 1; i < data.length; i++) {\n    if (ema[i - 1].y) {\n      ema[i].y = (data[i].y[3] - ema[i - 1].y) * multiplier + ema[i - 1].y;\n    }\n  }\n  return ema;\n}\n\nfunction linetocandle(data) {\n  var candledata = [];\n  for (var i = 0; i < data.length; i++) {\n    candledata.push({\n      x: data[i].x,\n      y: [null, null, null, data[i].y],\n    });\n  }\n  return candledata;\n}\n\nfunction getMACD(data, period1, period2) {\n  var macd = [];\n  var greater = period1 > period2 ? period1 : period2;\n  var ema26 = getCandleEMA(data, period1);\n  var ema12 = getCandleEMA(data, period2);\n  for (var i = 0; i < greater; i++) {\n    macd.push({\n      x: data[i].x,\n      y: null,\n    });\n  }\n  for (var i = greater; i < data.length; i++) {\n    macd.push({ x: ema26[i].x, y: ema12[i].y - ema26[i].y });\n  }\n  return macd;\n}\n\nfunction getHistogram(data1, data2) {\n  var histData = [];\n  for (var i = 0; i < data1.length; i++) {\n    if (data1[i].y !== null && data2[i].y !== null) {\n      histData.push({\n        x: data1[i].x,\n        y: data1[i].y - data2[i].y,\n      });\n    } else {\n      histData.push({\n        x: \"undefined\",\n        y: null,\n      });\n    }\n  }\n  return histData;\n}\n\n// getCross shows when the sma5 and sma20 cross it then takes into\n// account the price and will buy or sell depending on previous action\nfunction getCross(arr, period) {\n  var sma20Single, sma5Single;\n  var cross,\n    previousCross = false;\n  var buy = true;\n  var totalMoney = 0;\n  var test = [];\n\n  // setting the universal array variables to sma5, and sma20 equal to\n  // their respective calls\n  if (period === 20) sma5 = arr;\n  if (period === 50) sma20 = arr;\n\n  // will iterate through the length of the sma20 array (all of the data points)\n  for (var i = 0; i < sma20.length; i++) {\n    // This checks if the values are undefined incase we get\n    // bad/missing data and just wont run anything in that case.\n    if (sma20[i] !== undefined && sma5[i] !== undefined) {\n      //Setting objects equal to a single datapoint so the properties (x(date),y(price)) can be used\n      sma20Single = Object.values(sma20[i]);\n      sma5Single = Object.values(sma5[i]);\n      // Checks if the values arent null. Due to it being '20 data pt simple moving average'\n      // before 20 data pts it is null\n      if (sma20Single[1] !== null && sma5Single[1] !== null) {\n        //if shorter (sma20) is greater than sma5 then its a buy signal\n        //We should then buy the stock even is sma20 starts out higher (this wouldnt matter with live trading)\n        //The cycle then continues aslong as it starts like this to buy whenever sma20 is higher then sma5\n        if (sma5Single[1] > sma20Single[1]) {\n          cross = true;\n        }\n        if (sma5Single[1] < sma20Single[1]) {\n          cross = false;\n        }\n\n        // First time a cross is set to true (sma5 > sma20) then it will signal a cross and a buy must happen\n        if (cross !== previousCross) {\n          // Then the previousCross signal is set to the same as the current cross signal it it can see\n          // when a change happens the next time for it to run\n          previousCross = cross;\n          //console.log(`Lined Crossed at: ${sma5Single[0]}`);\n\n          if (buy === true) {\n            //totalMoney variable once something is bought it set = to the -purchase price\n            totalMoney -= sma5Single[1];\n            //console.log(`Buy! @ ${sma5Single[1]}`);\n            test.push({\n              x: sma5Single[0],\n              borderColor: \"#1bfa44\",\n              label: { text: \"Buy\" },\n              borderWidth: 3,\n            });\n            //datesBought = [sma5Single];\n            //boughtAndSoldMap[sma5Single[0]] = sma5Single[1];\n            buy = false;\n          } else {\n            // totamoney variable once something is sold is set = to the + sell price\n            totalMoney += sma5Single[1];\n            //console.log(`Sell! @ ${sma5Single[1]}`);\n            //console.log(`profit: $${totalMoney} per share`)\n            test.push({\n              x: sma5Single[0],\n              borderColor: \"#de0408\",\n              label: { text: \"Sell\" },\n              borderWidth: 3,\n            });\n            //boughtAndSoldMap[sma5Single[0]] = sma5Single[1]\n            buy = true;\n          }\n        }\n      }\n    }\n  }\n  //console.log(test)\n  return test;\n}\n\nexport { getSMA, getCandleEMA, linetocandle, getMACD, getHistogram, getCross };\n","import React from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport Slider from '@material-ui/core/Slider';\nimport 'react-datepicker/dist/react-datepicker.css';\n\nimport { styled } from \"@material-ui/core/styles\";\n\nconst MySlider = styled(Slider)({\n  color: \"red\",\n  width: \"75%\"\n});\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ticker: \"\",\n      startDate: null,\n      endDate: null,\n      limit: 100,\n    };\n  }\n\n  setTicker = (data) => {\n    this.setState({\n      ticker: data.target.value.toUpperCase(),\n    });\n  };\n\n  setStartDate = (data) => {\n    this.setState({\n      startDate: data,\n    });\n  };\n\n  setEndDate = (data) => {\n    this.setState({\n      endDate: data,\n    });\n  };\n\n  setLimit = (event, val) => {\n    this.setState({\n      limit: val\n    })\n  }\n\n  render() {\n    //console.log(this.state)\n    return (\n      <form className=\"search\" onSubmit={this.props.onSubmit}>\n        <div className=\"search-cont\">\n          <div className=\"top-line\">\n            <input\n              className=\"ticker\"\n              type=\"text\"\n              placeholder=\"Search for a stock ticker\"\n              value={this.state.ticker}\n              onChange={this.setTicker}\n            />\n            <select className=\"interval\" id=\"1\">\n              <option value=\"1Min\">1Min</option>\n              <option value=\"5Min\">5Min</option>\n              <option value=\"15Min\">15Min</option>\n              <option value=\"1D\">1Day</option>\n            </select>\n\n          </div>\n          <br />\n          <div className=\"mid-line\">\n            <DatePicker\n              className=\"start-date\"\n              selected={this.state.startDate}\n              onChange={this.setStartDate}\n              maxDate={new Date()}\n              placeholderText=\"Choose Start Date\"\n              filterDate={(date) => date.getDay() !== 6 && date.getDay() !== 0}\n            />\n            <DatePicker\n              className=\"end-date\"\n              selected={this.state.endDate}\n              onChange={this.setEndDate}\n              maxDate={new Date()}\n              placeholderText=\"Choose End Date\"\n              filterDate={(date) => date.getDay() !== 6 && date.getDay() !== 0}\n            />\n          </div>\n          <br />\n            <label for=\"slider\">Candle Limit: {this.state.limit}</label>\n            <MySlider\n              min={50}\n              max={1000}\n              defaultValue={100}\n              step={50}\n              onChange={this.setLimit}\n              marks\n              id=\"slider\"\n            />\n          <input type=\"submit\" value=\"Search\" className=\"submit\"/>\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default Search;\n","import Chart from \"react-apexcharts\";\nimport \"./Homepage.css\"\nimport Search from './tickerSearch.js'\nimport React from \"react\";\nimport { getSMA, getCandleEMA, linetocandle, getMACD, getHistogram, getCross } from './algorithms.js'\nimport { BounceLoader as Loader } from \"react-spinners\";\n\nconst queryString = require(\"query-string\")\nconst chartsRef = React.createRef();\n\nconst LOCAL_DOMAINS = [\"localhost\", \"127.0.0.1\"];\nconst hostname = LOCAL_DOMAINS.includes(window.location.hostname)\n  ? \"\"\n  : \"http://mccartneyn.pythonanywhere.com/\";\n\nclass Homepage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      ticker: \"\",\n      data: null,\n      sma: null,\n      sma2: null,\n      macd: null,\n      signal: null,\n      annotations:null,\n      loading: false,\n    };\n  }\n\n  //componentDidUpdate() {\n  //  this.scrollToChart()\n  //}\n//\n  //scrollToChart = () => {\n  //  console.log(chartsRef)\n  //  //chartsRef.current.scrollIntoView({ behavior: \"smooth\" });\n  //}\n\n  handleSubmit = (event) => {\n    this.setState({signal: null, macd: null, loading: true, ticker: event.target[0].value})\n    event.preventDefault();\n    var ticker = event.target[0].value;\n    var interval = event.target[1].value;\n    var sDate = event.target[2].value;\n    var eDate = event.target[3].value;\n    var limit = event.target[4].value;\n\n    var params = {\n      id: ticker,\n      sDate: sDate !== \"\" ? sDate : undefined,\n      eDate: eDate !== \"\" ? eDate : undefined,\n      interval: interval,\n      limit: limit,\n    };\n\n    var query = queryString.stringify(params);\n\n    fetch(`${hostname}/ticker${query !== \"\" ? \"?\" + query : \"\"}`)\n    .then(res => res.json())\n    .then(data => {\n      console.log(data)\n      this.setState({\n          data: data,\n          sma: getSMA(data, 20),\n          sma2: getSMA(data, 50),\n          macd: getMACD(data,26,12),\n          signal: getSMA(linetocandle(getMACD(data,26,12)),9),\n          annotations: getCross(),\n          loading: false,\n        })\n    })\n  }\n  \n  render () {\n    var options = {\n      chart: {\n        group: \"combine\",\n        id: \"candlestick\",\n        redrawOnParentResize: false,\n      },\n      title: {\n        text: this.state.ticker,\n        align: \"center\",\n        style: {\n          fontSize: '24px',\n        }\n      },\n      annotations: {\n        xaxis: this.state.annotations,\n      },\n      yaxis: {\n        decimalsInFloat: 2,\n        labels: {\n          style: {\n            colors: [\"#000000\"],\n          },\n          minWidth: 40,\n          maxWidth: 40,\n        },\n      },\n      tooltip: {\n        enabled: true,\n        shared: true,\n      },\n      markers: {\n        size: 0.5,\n      },\n      stroke: {\n        width: [1, 5, 5],\n      },\n    };\n\n    var options2 = {\n      chart: {\n        group: \"combine\",\n        id: \"macd\",\n        type: \"line\",\n        redrawOnParentResize: false,\n      },\n      yaxis: {\n        decimalsInFloat: 2,\n        labels: {\n          style: {\n            colors: [\"#000000\"],\n          },\n          minWidth: 40,\n          maxWidth: 40\n        },\n      },\n      markers: {\n        size: 0.5,\n      },\n      stroke: {\n        width: [2, 2],\n      },\n      plotOptions: {\n        bar: {\n          colors: {\n            ranges: [\n              {\n                from: -1000,\n                to: 0,\n                color: \"#de0408\",\n              },\n              {\n                from: 0,\n                to: 1000,\n                color: \"#1bfa44\",\n              },\n            ],\n          },\n        },\n      },\n      stroke: {\n        width: [2, 2, 0],\n      },\n    };\n    \n    return (\n      <div className=\"App-header\">\n        <br/>\n        <Search onSubmit={this.handleSubmit} />\n        <br />\n        {this.state.loading && (\n          <div>\n            <div className=\"loaders\">\n              <Loader size={25} margin={2} color={\"red\"} />\n              <Loader size={50} margin={2} />\n              <Loader size={25} margin={2} color=\"white\" />\n            </div>\n            Loading...\n          </div>\n        )}\n        {this.state.data !== null &&\n          this.state.sma !== null &&\n          this.state.macd !== null &&\n          this.state.signal !== null && (\n            <div className=\"chart-container\" ref={chartsRef}>\n              <Chart\n                options={options}\n                series={[\n                  {\n                    name: \"candle\",\n                    type: \"candlestick\",\n                    data: this.state.data,\n                  },\n                  {\n                    name: \"sma20\",\n                    type: \"line\",\n                    data: this.state.sma,\n                  },\n                  {\n                    name: \"sma50\",\n                    type: \"line\",\n                    data: this.state.sma2,\n                  },\n                ]}\n                className=\"candlestickchart\"\n                width=\"1200px\"\n                height=\"700\"\n              />\n              <Chart\n                options={options2}\n                series={[\n                  {\n                    name: \"macd\",\n                    type: \"line\",\n                    data: this.state.macd,\n                  },\n                  {\n                    name: \"signal\",\n                    type: \"line\",\n                    data: this.state.signal,\n                  },\n                  {\n                    name: \"hist\",\n                    type: \"bar\",\n                    data: getHistogram(this.state.macd, this.state.signal),\n                  },\n                ]}\n                className=\"macdchart\"\n                height=\"200px\"\n              />\n            </div>\n          )}\n      </div>\n    );\n  }\n}\n\nexport default Homepage;\n","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\n};\n\nfirebase.initializeApp(firebaseConfig);\nexport const auth = firebase.auth();\nauth.setPersistence(firebase.auth.Auth.Persistence.SESSION);\nexport const firestore = firebase.firestore();\n\nexport const generateUserDocument = async (user, additionalData) => {\n    if (!user) return;\n    const userRef = firestore.doc(`users/${user.uid}`);\n    const snapshot = await userRef.get();\n    if (!snapshot.exists) {\n        const { email, displayName, photoURL } = user;\n        try {\n            await userRef.set({\n                displayName,\n                email,\n                photoURL,\n                ...additionalData\n            });\n        } catch (error) {\n            console.log(\"error creating user document\", error);\n        }\n    }\n    return getUserDocument(user.uid);\n};\n\nexport const updateUserDocument = async (user, additionalData) => {\n    if (!user) return;\n    const userRef = firestore.doc(`users/${user.uid}`);\n    const snapshot = await userRef.get();\n    if (snapshot.exists) {\n        try {\n            await userRef.update(additionalData)\n            window.location.reload()\n        } catch (error) {\n            console.log(\"error updating user\", error)\n        }\n    }\n}\n\nexport const createStrategyDocument = async (collection, params) => {\n\n    try {\n        const res = await firestore.collection(`strategy${collection}`).add({\n            ...params\n        })\n        return res.id\n    } catch(error) {\n        console.log('error creating strategy', error)\n    }\n}\n\nexport const getStrategyDocument = async (collection, uid) => {\n    console.log(uid)\n    try {\n        const doc = await firestore.doc(`strategy${collection}/${uid}`).get();\n        return {\n            uid,\n            ...doc.data()\n        };\n    } catch(error) {\n        console.log('error fetching strategy data', error);\n    }\n\n}\n\nconst getUserDocument = async uid => {\n    if (!uid) return null;\n    try {\n        const userDocument = await firestore.doc(`users/${uid}`).get()\n        return {\n            uid,\n            ...userDocument.data()\n        };\n    } catch (error) {\n        console.log(\"Error fetching user\", error)\n    }\n}","import React, { Component, createContext } from \"react\";\nimport { auth, generateUserDocument } from \"../firebase\";\n\nexport const UserContext = createContext({ user: null });\nclass UserProvider extends Component {\n  state = {\n    user: null,\n  };\n\n  componentDidMount = async () => {\n    auth.onAuthStateChanged(async (userAuth) => {\n      const user = await generateUserDocument(userAuth);\n      this.setState({ user });\n    });\n  };\n\n  render() {\n    const { user } = this.state;\n    return (\n      <UserContext.Provider value={user}>\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\nexport default UserProvider;\n","export default \"data:image/png;base64,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\"","import React, { useContext } from \"react\";\nimport { UserContext } from \"../../providers/UserProvider\";\nimport avatar from \"../../assets/default_avatar.png\";\nimport \"./Account.css\";\nimport { useState } from \"react\";\nimport { updateUserDocument } from \"../../firebase\";\nimport { BounceLoader as Loader } from \"react-spinners\";\n\nfunction Account() {\n  const user = useContext(UserContext);\n  const [edit, setEdit] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [displayName, setDisplayName] = useState(undefined)\n  const [photoURL, setPhotoURL] = useState(undefined);\n  const [watchlist, setWatchlist] = useState(undefined);\n\n  const editAccount = (event) => {\n    event.preventDefault()\n    setEdit(true);\n  }\n\n  const saveAccount = (event) => {\n    event.preventDefault()\n    try {\n        updateUserDocument(user, { displayName, photoURL, watchlist });\n    } catch(error) {\n        console.log(error)\n    }\n    setLoading(true)\n  }\n\n  const onChangeHandler = (event) => {\n    const { name, value } = event.currentTarget;\n    if (name === \"displayName\") {\n      setDisplayName(value);\n    } else if (name === \"photoURL\") {\n      setPhotoURL(value);\n    } else if (name === \"watchlist\") {\n      setWatchlist(value)\n    }\n  };\n\n  if (loading || user === null) {\n    return (\n      <div className=\"App-header\">\n        <br />\n        <div className=\"loaders\">\n          <Loader size={25} margin={2} color={\"red\"}/>\n          <Loader size={50} margin={2} />\n          <Loader size={25} margin={2} color=\"white\"/>\n        </div>\n        Loading...\n      </div>\n    );\n  } \n  if (user === undefined) {\n    return <div className=\"App-header\">Please Log In</div>;\n  } else if (displayName === undefined || photoURL === undefined) {\n    setDisplayName(user.displayName)\n    setPhotoURL(user.photoURL)\n    setWatchlist(user.watchlist)\n  } else {\n    return (\n      <div className=\"App-header\">\n        {!edit && (\n          <div className=\"page\">\n            <div className=\"account-info\">\n              <img\n                src={user && photoURL ? photoURL : avatar}\n                alt=\"avatar\"\n                height=\"200\"\n                width=\"200\"\n                className=\"avi\"\n              ></img>\n              <div className=\"content\">\n                <p>{displayName}</p>\n                <p>{user.email}</p>\n                <p>{user.watchlist}</p>\n              </div>\n              <br />\n            </div>\n            <button onClick={editAccount}>Edit Account</button>\n          </div>\n        )}\n        {edit && (\n          <div className=\"account-edit\">\n            <br />\n            <form>\n              <div>\n                <label htmlFor=\"displayName\">Display Name:</label>\n                <input\n                  type=\"text\"\n                  name=\"displayName\"\n                  value={displayName}\n                  placeholder=\"E.g: WallStreetBettor1\"\n                  id=\"displayName\"\n                  onChange={onChangeHandler}\n                ></input>\n                <br />\n                <label htmlFor=\"photoURL\">Profile Picture URL:</label>\n                <input\n                  type=\"text\"\n                  name=\"photoURL\"\n                  value={photoURL}\n                  placeholder=\"E.g: imgur.com/abc123\"\n                  id=\"photoURL\"\n                  onChange={onChangeHandler}\n                ></input>\n                <br />\n                <label htmlFor=\"watchlist\">\n                  Watchlist (comma separated list):\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"watchlist\"\n                  value={watchlist}\n                  placeholder=\"E.g: GME,MO,F,AMC,SPY,VOO,TRVG\"\n                  id=\"watchlist\"\n                  onChange={onChangeHandler}\n                ></input>\n                <br />\n                <button onClick={saveAccount}>Save Changes</button>\n              </div>\n            </form>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Account;\n","export default __webpack_public_path__ + \"static/media/logo_full_blue.85c722cb.svg\";","import React, { useState, useEffect } from 'react'\nimport './timer.css'\n\nexport default function Timer(props) {\n\n    const [time, setTime] = useState(0)\n\n    useEffect(() => {\n        var marketTimer = setInterval(() => {\n            var now = new Date();\n            var nextTime = new Date(props.compareDate);\n            var difference = nextTime.getTime() - now.getTime();\n    \n            var seconds = Math.floor(difference/1000)\n            var minutes = Math.floor(seconds / 60)\n            var hours = Math.floor(minutes / 60)\n\n            hours %= 24\n            minutes %= 60\n            seconds %= 60\n\n            setTime({\"hours\": hours, \"minutes\": minutes, \"seconds\": seconds})\n        }, 1000);\n        return () => clearInterval(marketTimer)\n    });\n\n    if (time[\"hours\"] === 0 && time[\"minutes\"] === 0 && time[\"seconds\"] === 0) {\n        console.log(\"fetch market status\")\n        setTime(0)\n        props.resetTimer();\n    }\n    if (time !== 0) {\n      return (\n        <div className=\"timer\">\n          {time[\"hours\"]}:{time[\"minutes\"]}:{time[\"seconds\"]}\n        </div>\n      );\n    } else {\n      return null;\n    }\n}","export default __webpack_public_path__ + \"static/media/logo_diamond.7e0967fb.svg\";","export default __webpack_public_path__ + \"static/media/sign_up_white2.fdabad4f.svg\";","import React, { useState } from \"react\";\nimport Popup from \"reactjs-popup\";\nimport logoSVG from \"../../assets/logo_diamond.svg\";\nimport welcomeSVG from \"../../assets/sign_up_white2.svg\";\n\nimport \"./Account.css\";\nimport { auth, generateUserDocument } from \"../../firebase\";\n\nexport default function SignUp(props) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [displayName, setDisplayName] = useState(\"\");\n  const [error, setError] = useState(null);\n  const createUserWithEmailAndPasswordHandler = async (\n    event,\n    email,\n    password\n  ) => {\n    event.preventDefault();\n\n    try {\n      const { user } = await auth.createUserWithEmailAndPassword(\n        email,\n        password\n      );\n      generateUserDocument(user, { displayName });\n    } catch (error) {\n      if (error.code === \"auth/invalid-email\") {\n        setError(\"Invalid Email\");\n      } else if (error.code === \"auth/weak-password\") {\n        setError(\"Password is too weak. Please use at least 6 characters.\");\n      } else {\n        setError(error.message);\n        alert(error.message, \"Please contact support.\");\n      }\n    }\n  };\n  const onChangeHandler = (event) => {\n    const { name, value } = event.currentTarget;\n    if (name === \"userEmail\") {\n      setEmail(value);\n    } else if (name === \"userPassword\") {\n      setPassword(value);\n    } else if (name === \"displayName\") {\n      setDisplayName(value);\n    }\n  };\n\n  return (\n    <Popup\n      trigger={\n        <button>\n          No Account?\n        </button>\n      }\n      modal\n      closeOnDocumentClick\n      className=\"sign-up\"\n    >\n      {(close) => (\n        <div className=\"modal\">\n          <div className=\"welcome\">\n            <img src={welcomeSVG} alt=\"welcome\"/>\n            <img src={logoSVG} alt=\"logo\" height=\"150\" width=\"150\"></img>\n          </div>\n          <form className=\"form\">\n            <div>\n              <label htmlFor=\"displayName\">Display Name:</label>\n              <input\n                type=\"text\"\n                name=\"displayName\"\n                value={displayName}\n                placeholder=\"E.g: WallStreetBettor1\"\n                id=\"displayName\"\n                onChange={(event) => onChangeHandler(event)}\n              ></input>\n\n              <label htmlFor=\"userEmail\">Email:</label>\n              <input\n                type=\"email\"\n                name=\"userEmail\"\n                value={email}\n                placeholder=\"E.g: wallstreetbettor1@gmail.com\"\n                id=\"userEmail\"\n                onChange={(event) => onChangeHandler(event)}\n              ></input>\n\n              <label htmlFor=\"userPassword\">Password:</label>\n              <input\n                type=\"password\"\n                name=\"userPassword\"\n                value={password}\n                id=\"userPassword\"\n                placeholder=\"6 Characters\"\n                onChange={(event) => onChangeHandler(event)}\n              ></input>\n              {error && (\n                <div>\n                  <span className=\"error\">{error}</span>\n                  <br />\n                  <br />\n                </div>\n              )}\n                  </div>\n                  <br/>\n              <button\n                onClick={(event) => {\n                  createUserWithEmailAndPasswordHandler(event, email, password);\n                }}\n              >\n                Sign Up\n              </button>\n          </form>\n        </div>\n      )}\n    </Popup>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/sign_in_white.57cad24e.svg\";","import Popup from \"reactjs-popup\";\nimport React, { useState } from \"react\";\nimport SignUp from \"./SignUp\";\nimport { auth } from \"../../firebase\";\nimport logoSVG from \"../../assets/logo_diamond.svg\";\nimport welcomeSVG from \"../../assets/sign_in_white.svg\";\n\nimport \"./Account.css\";\n\nexport default function SignIn(props) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(null);\n  const signInWithEmailAndPasswordHandler = (event, email, password) => {\n    event.preventDefault();\n    auth.signInWithEmailAndPassword(email, password).catch((error) => {\n      if (error.code === \"auth/wrong-password\") {\n        setError(\"Password is incorrect.\");\n      } else if (error.code === \"auth/invalid-email\") {\n        setError(\"Please enter a valid email.\");\n      } else if (error.code === \"auth/user-not-found\") {\n        setError(\n          \"User does not exist. Enter existing account email or sign up.\"\n        );\n      } else {\n        setError(error.message);\n        alert(error.message, \"Please contact support.\");\n      }\n    });\n  };\n\n  const resetState = () => {\n    setEmail(\"\");\n    setPassword(\"\");\n    setError(null);\n  };\n\n  const onChangeHandler = (event) => {\n    const { name, value } = event.currentTarget;\n\n    if (name === \"userEmail\") {\n      setEmail(value);\n    } else if (name === \"userPassword\") {\n      setPassword(value);\n    }\n  };\n  \n  return (\n    <Popup\n      trigger={<button>Login</button>}\n      modal\n      onClose={resetState}\n      nested\n      closeOnDocumentClick\n      className=\"sign-in\"\n    >\n      {(close) => (\n        <div className=\"modal\">\n          <div className=\"welcome\">\n            <img src={welcomeSVG} alt=\"welcome\"/>\n            <img src={logoSVG} alt=\"logo\" height=\"150\" width=\"150\"></img>\n          </div>\n          <form className=\"form\">\n            <div>\n              Email:{\" \"}\n              <input\n                type=\"email\"\n                name=\"userEmail\"\n                value={email}\n                placeholder=\"UserEmail123@gmail.com\"\n                id=\"userEmail\"\n                onChange={(event) => onChangeHandler(event)}\n              ></input>\n              <br />\n              Password:{\" \"}\n              <input\n                type=\"password\"\n                name=\"userPassword\"\n                value={password}\n                id=\"userPassword\"\n                onChange={(event) => onChangeHandler(event)}\n              ></input>\n            </div>\n            <br />\n            {error && (\n              <div>\n                <span className=\"error\">{error}</span>\n                <br />\n                <br />\n              </div>\n            )}\n\n            <button\n              onClick={(event) => {\n                signInWithEmailAndPasswordHandler(event, email, password);\n              }}\n            >\n              Sign In\n            </button>\n          </form>\n          <SignUp />\n        </div>\n      )}\n    </Popup>\n  );\n}\n","import Popup from \"reactjs-popup\";\nimport React, { useContext } from \"react\";\nimport { UserContext } from \"../../providers/UserProvider\";\nimport { auth } from \"../../firebase\";\nimport avatar from \"../../assets/default_avatar.png\";\nimport { Link } from \"react-router-dom\";\nimport \"./Account.css\";\n\nexport default function AccountLink(props) {\n  const user = useContext(UserContext);\n\n  return (\n    <Popup\n      trigger={(open) => (\n        <div className=\"account-link\">\n          <img\n            src={user && user.photoURL ? user.photoURL : avatar}\n            alt=\"avatar\"\n            height=\"45\"\n            width=\"45\"\n          ></img>\n          <p>{user ? user.displayName : \"\"}</p>\n        </div>\n      )}\n      position=\"left top\"\n      offsetY=\"1\"\n      offsetX=\"-1\"\n      closeOnDocumentClick\n      className=\"settings\"\n    >\n      <div className=\"settings-link\">\n        <Link to=\"/account\">\n          <button className=\"settings-button\">Account Settings</button>\n        </Link>\n        <button\n          onClick={() => {\n            auth.signOut();\n          }}\n          className=\"settings-button\"\n        >\n          Sign Out\n        </button>\n      </div>\n    </Popup>\n  );\n}\n","import \"./Account.css\";\nimport React from 'react'\nimport { useContext } from \"react\";\nimport { UserContext } from \"../../providers/UserProvider\";\nimport SignIn from \"./SignIn\";\nimport AccountLink from \"./AccountLink\"\n\nexport default function AccountManager(props) {\n  const user = useContext(UserContext);\n\n  if (user === undefined) {\n    return (\n        <SignIn/>\n    );\n  } else {\n    return (\n      <AccountLink/>\n    );\n  }\n}\n","import React, { useContext, useState } from \"react\";\nimport { UserContext } from \"../../providers/UserProvider\";\nimport \"./watchlist.css\";\nconst queryString = require(\"query-string\");\n\nfunction getWatchlistTickers(tickers, setWatchlist) {\n  if (tickers === undefined) return;\n  \n  var query = queryString.stringify({ tickers: tickers.toString() });\n  fetch(`/watchlist${query !== \"\" ? \"?\" + query : \"\"}`)\n    .then((res) => res.json())\n    .then((data) => {\n        setWatchlist(data.map((x) => {\n            return <div key={x.ticker} className={x.delta > 0 ? \"positive\" : \"negative\"}>\n                {x.ticker}{\" | \"}{x.price}\n            </div>\n        }))\n    });\n}\n\nfunction Watchlist() {\n  const user = useContext(UserContext);\n  const [watchlist, setWatchlist] = useState(\"\");\n\n  if (user === null || user === undefined) {\n    return null;\n  } else {\n    if (watchlist === \"\") {\n      getWatchlistTickers(user.watchlist, setWatchlist);\n    }\n\n    return (\n        <div className=\"watchlist-bar\">\n            {watchlist}\n        </div>\n    );\n  }\n}\n\nexport default Watchlist;\n","export default __webpack_public_path__ + \"static/media/logo_text.7a1d9d60.svg\";","import React from 'react'\nimport Sidebar from \"react-sidebar\";\nimport './topbar.css'\nimport logoSVG from \"../../assets/logo_full_blue.svg\";\nimport menu from \"../../assets/menu.png\"\nimport { Link } from \"react-router-dom\";\nimport Timer from \"../Timer/Timer.js\";\nimport AccountLink from \"../AccountLink/AccountLink.js\";\nimport AccountManager from \"../AccountManager/AccountManager.js\"\nimport Watchlist from \"../Watchlist/Watchlist.js\"\nimport SidebarContent from \"../../components/Sidebar/Sidebar\";\n\n\nclass Topbar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      loggedIn: false,\n      user: null,\n      sidebarOpen: false,\n    };\n  }\n\n  onSetSidebarOpen = (open) => {\n    this.setState({\n      sidebarOpen: open,\n    });\n  };\n\n  marketStatus = () => {\n    if (this.state.is_open) {\n      return \"Market Open\";\n    } else {\n      return \"Market Closed\";\n    }\n  };\n\n  getMarketStatus = () => {\n    fetch(\"/marketStatus\")\n      .then((res) => res.json())\n      .then((data) => {\n        this.setState({ ...data });\n      });\n  };\n\n  componentDidMount() {\n    this.getMarketStatus();\n  }\n\n  render() {\n    if (this.state.loading === false) {\n      return (\n        <div>\n          <div className=\"container\">\n            <div>\n              <img src={logoSVG} alt=\"logo\" height=\"50\" width=\"75\"></img>\n            </div>\n            <div className=\"links\">\n              <Link to=\"/\"></Link>\n            </div>\n            <AccountManager />\n          </div>\n          <div\n            className={\n              this.state.is_open ? \"marketStatus-open\" : \"marketStatus-closed\"\n            }\n          >\n            {this.marketStatus()}\n            <Timer\n              compareDate={\n                this.state.is_open\n                  ? this.state.next_close\n                  : this.state.next_open\n              }\n              resetTimer={this.getMarketStatus}\n            />\n          </div>\n          <Watchlist />\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default Topbar;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { format } from \"d3-format\";\nimport { timeFormat } from \"d3-time-format\";\nimport {\n  elderRay,\n  ema,\n  discontinuousTimeScaleProviderBuilder,\n  Chart,\n  ChartCanvas,\n  CurrentCoordinate,\n  BarSeries,\n  CandlestickSeries,\n  ElderRaySeries,\n  LineSeries,\n  MovingAverageTooltip,\n  OHLCTooltip,\n  SingleValueTooltip,\n  lastVisibleItemBasedZoomAnchor,\n  XAxis,\n  YAxis,\n  CrossHairCursor,\n  EdgeIndicator,\n  MouseCoordinateX,\n  MouseCoordinateY,\n  ZoomButtons,\n  withDeviceRatio,\n  withSize,\n  RSISeries,\n  rsi,\n  sma,\n  mouseBasedZoomAnchor,\n  BarAnnotation,\n  SvgPathAnnotation,\n  Annotate,\n  Label,\n  LabelAnnotation,\n  algo,\n} from \"react-financial-charts\";\n\nimport \"../backtest.css\";\n\nexport default function SMAChart(props) {\n  const ScaleProvider =\n    discontinuousTimeScaleProviderBuilder().inputDateAccessor(\n      (d) => new Date(d.date)\n    );\n  const MAX_HEIGHT = 650;\n  const MAX_WIDTH = 1600;\n  const margin = { left: 0, right: 48, top: 0, bottom: 24 };\n\n  const { longSMA, shortSMA } = props.longShort;\n  console.log(props.longShort)\n\n  const long = sma()\n      .id(5)\n    .options({ windowSize: parseInt(longSMA) })\n    .merge((d, c) => {\n      d.longSMA = c;\n    })\n    .accessor((d) => d.longSMA);\n\n  const short = sma()\n  .id(6)\n    .options({ windowSize: parseInt(shortSMA) })\n    .merge((d, c) => {\n      d.shortSMA = c;\n    })\n    .accessor((d) => d.shortSMA);\n\n  const buySell = algo()\n    .windowSize(2)\n    .accumulator(([prev, now]) => {\n      const { shortSMA: prevShortTerm, longSMA: prevLongTerm } = prev;\n      const { shortSMA: nowShortTerm, longSMA: nowLongTerm } = now;\n\n      if (prevShortTerm < prevLongTerm && nowShortTerm > nowLongTerm)\n        return \"LONG\";\n      if (prevShortTerm > prevLongTerm && nowShortTerm < nowLongTerm)\n        return \"SHORT\";\n    })\n    .merge((d, c) => {\n      d.longShort = c;\n    });\n\n  const calculatedData = buySell(long(short(props.data)));\n\n  const { data, xScale, xAccessor, displayXAccessor } =\n    ScaleProvider(calculatedData);\n\n  const pricesDisplayFormat = format(\"$,.2f\");\n  const max = xAccessor(data[data.length - 1]);\n  const min = xAccessor(data[Math.max(0, data.length - 100)]);\n  const xExtents = [min, max];\n\n  const balanceHeight = MAX_HEIGHT * 0.2;\n  const balanceOrigin = [0, 0];\n  const chartHeight = MAX_HEIGHT * 0.8;\n  const chartOrigin = [0, balanceHeight];\n  const barChartHeight = MAX_HEIGHT * 0.2;\n  const barChartOrigin = [0, balanceHeight + chartHeight - barChartHeight];\n\n  const finalHeight = balanceHeight + chartHeight + 25;\n\n  const defaultAnnotationProps = {\n    fontFamily: \"Glyphicons Halflings\",\n    fontSize: 25,\n    opacity: 1,\n  };\n\n  const longAnnotationProps = {\n    ...defaultAnnotationProps,\n    fill: \"#006517\",\n    text: \"\\u25B2\",\n    y: ({ yScale, datum }) => yScale(datum.low) + 20,\n    tooltip: \"Go long\",\n  };\n\n  const shortAnnotationProps = {\n    ...defaultAnnotationProps,\n    fill: \"#E20000\",\n    text: \"\\u25BC\",\n    y: ({ yScale, datum }) => yScale(datum.high),\n    tooltip: \"Go short\",\n  };\n\n  const yExtents = (data) => {\n    return [data.high, data.low];\n  };\n\n  const histValue = data\n    .map((d) => {\n      return d.value;\n    })\n    .sort((a, b) => {\n      return a - b;\n    });\n  const balanceExtents = [\n    histValue[0] * 0.9,\n    histValue[histValue.length - 1] * 1.1,\n  ];\n\n  const dateTimeFormat = \"%d %b '%y %I:%M\";\n  const timeDisplayFormat = timeFormat(dateTimeFormat);\n\n  const barChartExtents = (data) => {\n    return data.volume;\n  };\n\n  const candleChartExtents = (data) => {\n    return [data.high * 1.05, data.low * 0.95];\n  };\n\n  const yEdgeIndicator = (data) => {\n    return data.close;\n  };\n\n  const volumeColor = (data) => {\n    return data.close > data.open\n      ? \"rgba(38, 166, 154, 0.3)\"\n      : \"rgba(239, 83, 80, 0.3)\";\n  };\n\n  const volumeSeries = (data) => {\n    return data.volume;\n  };\n\n  const openCloseColor = (data) => {\n    return data.close > data.open ? \"#26a69a\" : \"#ef5350\";\n  };\n\n  const balanceSeries = (data) => {\n    return data.value;\n  };\n\n  return (\n    <ChartCanvas\n      height={MAX_HEIGHT}\n      ratio={3}\n      width={MAX_WIDTH * 0.8}\n      margin={margin}\n      data={data}\n      displayXAccessor={displayXAccessor}\n      seriesName=\"Data\"\n      xScale={xScale}\n      xAccessor={xAccessor}\n      xExtents={xExtents}\n      zoomAnchor={mouseBasedZoomAnchor}\n      className=\"canvas\"\n      id=\"chartCanvas\"\n    >\n      /** Chart for account balance */\n      <Chart\n        id={6}\n        height={balanceHeight}\n        origin={balanceOrigin}\n        yExtents={balanceExtents}\n      >\n        <LineSeries yAccessor={balanceSeries} />\n        <YAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          tickFormat={pricesDisplayFormat}\n          tickLabelFill=\"white\"\n        />\n        <XAxis\n          gridLinesStrokeStyle=\"#464646\"\n          orient=\"top\"\n          tickLabelFill=\"white\"\n          showTickLabel={false}\n          showTicks={false}\n        />\n        <CurrentCoordinate yAccessor={balanceSeries} />\n        <SingleValueTooltip\n          yAccessor={balanceSeries}\n          yLabel=\"Balance\"\n          yDisplayFormat={(d) => `${pricesDisplayFormat(d)}`}\n          origin={[8, 16]}\n          valueFill=\"white\"\n        />\n      </Chart>\n      /** Volume */\n      <Chart\n        id={2}\n        height={barChartHeight}\n        origin={barChartOrigin}\n        yExtents={barChartExtents}\n      >\n        <BarSeries fillStyle={volumeColor} yAccessor={volumeSeries} />\n      </Chart>\n      /** Candlestick chart */\n      <Chart\n        id={3}\n        height={chartHeight}\n        yExtents={candleChartExtents}\n        origin={chartOrigin}\n      >\n        <XAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          orient=\"top\"\n          tickLabelFill=\"white\"\n        />\n        <YAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          tickFormat={pricesDisplayFormat}\n          tickLabelFill=\"white\"\n        />\n        <CandlestickSeries />\n        <LineSeries yAccessor={short.accessor()} strokeStyle={short.stroke()} />\n        <CurrentCoordinate\n          yAccessor={short.accessor()}\n          fillStyle={short.stroke()}\n        />\n        <LineSeries yAccessor={long.accessor()} strokeStyle={long.stroke()} />\n        <CurrentCoordinate\n          yAccessor={long.accessor()}\n          fillStyle={long.stroke()}\n        />\n\n        <MouseCoordinateX displayFormat={timeDisplayFormat} orient=\"top\" />\n        <MouseCoordinateY\n          rectWidth={margin.right}\n          displayFormat={pricesDisplayFormat}\n        />\n\n        <EdgeIndicator\n          itemType=\"last\"\n          rectWidth={margin.right}\n          fill={openCloseColor}\n          lineStroke={openCloseColor}\n          displayFormat={pricesDisplayFormat}\n          yAccessor={yEdgeIndicator}\n        />\n        <MovingAverageTooltip\n          textFill=\"white\"\n          origin={[8, -80]}\n          options={[\n            {\n              yAccessor: short.accessor(),\n              type: \"SMA\",\n              stroke: short.stroke(),\n              windowSize: short.options().windowSize,\n            },\n            {\n              yAccessor: long.accessor(),\n              type: \"SMA\",\n              stroke: long.stroke(),\n              windowSize: long.options().windowSize,\n            },\n          ]}\n        />\n        <Annotate\n          with={LabelAnnotation}\n          when={(d) => d.longShort === \"LONG\"}\n          usingProps={longAnnotationProps}\n        />\n        <Annotate\n          with={LabelAnnotation}\n          when={(d) => d.longShort === \"SHORT\"}\n          usingProps={shortAnnotationProps}\n        />\n        <OHLCTooltip origin={[8, 16]} textFill=\"white\" />\n        <SingleValueTooltip\n          yAccessor={(d) => d.volume}\n          yLabel=\"V:\"\n          yDisplayFormat={(d) => `${pricesDisplayFormat(d)}`}\n          origin={[9, 35]}\n          valueFill=\"white\"\n        />\n      </Chart>\n      <CrossHairCursor />\n    </ChartCanvas>\n  );\n}\n","import React, {useState} from 'react';\nimport { format } from \"d3-format\";\n\nimport \"./backtest.css\"\n\n\nconst pricesDisplayFormat = format(\",.2f\");\n\nexport default function Orders(props) {\n\n    var bAndH = props.buyAndHold;\n\n    var orders = props.orders;\n\n    var lastTradeVal = 0;\n\n    const orderObj = orders.map((o, i) => {\n        if (o.type === 'buy') lastTradeVal = o.price * o.size\n        let deltaClass = \"\"\n        if (o.type === 'sell') {\n            let val = Math.abs(o.price * o.size) - lastTradeVal\n            if (val > 0) deltaClass = \" gain\"\n            else if (val < 0) deltaClass = \" loss\"\n        }\n        return (\n          <div className={`trade${deltaClass}`} key={i}>\n            <p>{o.date}</p>\n            <p>\n              {o.type} {Math.abs(o.size)} @ ${pricesDisplayFormat(o.price)}\n            </p>\n            <p>Total: ${pricesDisplayFormat(Math.abs(o.size * o.price))}</p>\n          </div>\n        );\n    })\n\n    orderObj.unshift(<div className={`trade account`} key=\"buyAndHold\">\n        <p>\n            Value if Buy and Hold from {`$${bAndH.originalPrice}: $${pricesDisplayFormat(bAndH.value)}`}\n        </p>\n    </div>)\n\n    return (\n        <div className=\"orders\">\n            {orderObj}\n        </div>\n    )\n}","import React, { useState, useContext } from \"react\";\nimport \"react-dates/initialize\";\nimport {\n  DateRangePicker,\n  SingleDatePicker,\n  DayPickerRangeController,\n} from \"react-dates\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport { timeParse } from \"d3-time-format\";\nimport { createStrategyDocument, getStrategyDocument } from \"../../../firebase\";\nimport { UserContext } from \"../../../providers/UserProvider\";\n\nimport SMAChart from \"./SMAChart\";\nimport Orders from \"../Orders\";\n\nimport \"../backtest.css\";\n\nconst queryString = require(\"query-string\");\n\nexport default function SMA(props) {\n  const strategy = \"SMA\";\n  const user = useContext(UserContext);\n  const [uid, setUid] = useState(\"\");\n  const [ticker, setTicker] = useState(\"\");\n  const [interval, setInterval] = useState(\"\");\n  const [shortSMA, setShortSMA] = useState(\"\");\n  const [longSMA, setLongSMA] = useState(\"\");\n  const [investment, setInvestment] = useState(\"\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [data, setData] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [buyAndHold, setBuyAndHold] = useState({});\n\n  const onChangeHandler = (event) => {\n    const { name, value } = event.currentTarget;\n\n    if (name === \"ticker\") setTicker(value.toUpperCase());\n    else if (name === \"interval\") setInterval(value);\n    else if (name === \"shortSMA\") setShortSMA(value);\n    else if (name === \"longSMA\") setLongSMA(value);\n    else if (name === \"investment\") setInvestment(value);\n    else if (name === \"startDate\") setStartDate(value);\n    else if (name === \"endDate\") setEndDate(value);\n    else if (name === \"uid\") setUid(value);\n    else if (name === \"buyAndHold\") setBuyAndHold(value);\n  };\n\n  const setParams = (params) => {\n    for (const [key, value] of Object.entries(params)) {\n      if (key === \"ticker\") setTicker(value.toUpperCase());\n      else if (key === \"interval\") setInterval(value);\n      else if (key === \"shortSMA\") setShortSMA(value);\n      else if (key === \"longSMA\") setLongSMA(value);\n      else if (key === \"investment\") setInvestment(value);\n      else if (key === \"startDate\") setStartDate(value);\n      else if (key === \"endDate\") setEndDate(value);\n      else if (key === \"uid\") setUid(value);\n      else if (key === \"buyAndHold\") setBuyAndHold(value);\n    }\n  };\n\n  const executeTest = (event) => {\n    /**\n     * Execture the backtest with the given params.\n     *\n     * 1. fetch data\n     * 2. run algorithm\n     * 3. report results\n     *\n     */\n\n    var params = {\n      id: ticker,\n      interval: interval,\n      shortSMA: shortSMA,\n      longSMA: longSMA,\n      investment: investment,\n      sDate: startDate !== \"\" ? startDate : undefined,\n      eDate: endDate !== \"\" ? endDate : undefined,\n      strategy: strategy,\n    };\n\n    var query = queryString.stringify(params);\n    fetch(`/backtestStrategy${query !== \"\" ? \"?\" + query : \"\"}`)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        let formattedData = [];\n        data[\"data\"].forEach((d) => {\n          formattedData.push({\n            ...d,\n            date: new Date(d.date),\n          });\n        });\n        setOrders(data.orders);\n        setBuyAndHold(data.buyAndHold);\n        setData(formattedData);\n      });\n    console.log(\"execute test\");\n  };\n\n  const saveTest = (event) => {\n    /**\n     * Save the test to the firebase server\n     *\n     * 1. create a new firebase document with params\n     * 2. save the test to the users account\n     * 3. return UID\n     * 4. display UID\n     */\n\n    event.preventDefault();\n\n    let params = {\n      ticker: ticker,\n      interval: interval,\n      shortSMA: shortSMA,\n      longSMA: longSMA,\n      investment: investment,\n      startDate: startDate,\n      endDate: endDate,\n      buyPercent: null,\n      sellPercent: null,\n    };\n\n    createStrategyDocument(strategy, params)\n      .then((uid) => {\n        setUid(uid);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    console.log(\"saveTest\");\n  };\n\n  const fetchTest = (event) => {\n    event.preventDefault();\n    getStrategyDocument(strategy, uid).then((res) => {\n      console.log(res);\n      setParams(res);\n    });\n  };\n\n  const parseDate = timeParse(\"%Y-%m-%d\");\n\n  return (\n    <div>\n      {data.length > 0 && (\n        <div className=\"chartContainer\">\n          <SMAChart\n            data={data}\n            longShort={{ longSMA: longSMA, shortSMA: shortSMA }}\n          />\n          <Orders orders={orders} buyAndHold={buyAndHold} />\n        </div>\n      )}\n      <div className=\"formContainer\">\n        <div className=\"testTerminal\">\n          {(user !== null && user !== undefined) && \n            <div className=\"fetch\">\n              <input\n                id=\"uid\"\n                name=\"uid\"\n                placeholder=\"Search for a strategy here!\"\n                className=\"smaInput\"\n                value={uid}\n                onChange={onChangeHandler}\n              ></input>\n              <input\n                type=\"button\"\n                value=\"Fetch Strategy\"\n                className=\"fetchStratButton\"\n                onClick={fetchTest}\n              />\n            </div>\n          }\n          <div className=\"paramCont\">\n            <div className=\"leftCol\">\n              <input\n                type=\"text\"\n                id=\"ticker\"\n                name=\"ticker\"\n                className=\"smaInput\"\n                placeholder=\"Ticker\"\n                value={ticker}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n              <input\n                type=\"text\"\n                id=\"shortSMA\"\n                name=\"shortSMA\"\n                className=\"smaInput\"\n                placeholder=\"Short term SMA\"\n                value={shortSMA}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n              <input\n                type=\"text\"\n                id=\"longSMA\"\n                name=\"longSMA\"\n                className=\"smaInput\"\n                placeholder=\"Long term SMA\"\n                value={longSMA}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n            </div>\n            <div className=\"rightCol\">\n              <input\n                id=\"investment\"\n                name=\"investment\"\n                className=\"smaInput\"\n                placeholder=\"How much to invest?\"\n                value={investment}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n              <select\n                className=\"interval\"\n                id=\"interval\"\n                name=\"interval\"\n                className=\"smaInput\"\n                value={interval}\n                onChange={onChangeHandler}\n              >\n                <option value=\"1Min\">1Min</option>\n                <option value=\"5Min\">5Min</option>\n                <option value=\"15Min\">15Min</option>\n                <option value=\"1D\">1Day</option>\n              </select>\n              <div className=\"calendars\">\n                <input\n                  id=\"startDate\"\n                  name=\"startDate\"\n                  className=\"calendarInput\"\n                  placeholder=\"Start Date yyyy/mm/dd\"\n                  value={startDate}\n                  onChange={onChangeHandler}\n                />\n                <input\n                  id=\"endDate\"\n                  name=\"endDate\"\n                  className=\"calendarInput\"\n                  placeholder=\"End Date yyyy/mm/dd\"\n                  value={endDate}\n                  onChange={onChangeHandler}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"actionsRow\">\n            <input\n              type=\"button\"\n              className=\"actionButton\"\n              value=\"Run Test\"\n              onClick={executeTest}\n            />\n            {(user !== null && user !== undefined) &&\n              <input\n                type=\"button\"\n                className=\"actionButton\"\n                value=\"Save Test\"\n                onClick={saveTest}\n              />\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { format } from \"d3-format\";\nimport { timeFormat } from \"d3-time-format\";\nimport {\n  ema,\n  discontinuousTimeScaleProviderBuilder,\n  Chart,\n  ChartCanvas,\n  CurrentCoordinate,\n  BarSeries,\n  CandlestickSeries,\n  LineSeries,\n  MovingAverageTooltip,\n  OHLCTooltip,\n  SingleValueTooltip,\n  XAxis,\n  YAxis,\n  CrossHairCursor,\n  EdgeIndicator,\n  MouseCoordinateX,\n  MouseCoordinateY,\n  mouseBasedZoomAnchor,\n  Annotate,\n  LabelAnnotation,\n  algo,\n} from \"react-financial-charts\";\n\nimport \"../backtest.css\";\n\nexport default function EMAChart(props) {\n  const ScaleProvider =\n    discontinuousTimeScaleProviderBuilder().inputDateAccessor(\n      (d) => new Date(d.date)\n    );\n  const MAX_HEIGHT = 650;\n  const MAX_WIDTH = 1600;\n  const margin = { left: 0, right: 48, top: 0, bottom: 24 };\n\n  const { longEMA, shortEMA } = props.longShort;\n\n  const long = ema()\n    .options({\n      windowSize: parseInt(longEMA),\n    })\n    .merge((d, c) => {\n      d.longEMA = c;\n    }) // Required, if not provided, log a error\n    .stroke(\"red\")\n    .accessor((d) => d.longEMA); // Required, if not provided, log an error during calculation\n\n  const short = ema()\n    .options({\n      windowSize: parseInt(shortEMA),\n    })\n    .merge((d, c) => {\n      d.shortEMA = c;\n    }) // Required, if not provided, log a error\n    .stroke(\"DodgerBlue\")\n    .accessor((d) => d.shortEMA); // Required, if not provided, log an error during calculation\n\n  const buySell = algo()\n    .windowSize(2)\n    .accumulator(([prev, now]) => {\n      const { shortEMA: prevShortTerm, longEMA: prevLongTerm } = prev;\n      const { shortEMA: nowShortTerm, longEMA: nowLongTerm } = now;\n\n      if (prevShortTerm < prevLongTerm && nowShortTerm > nowLongTerm)\n        return \"LONG\";\n      if (prevShortTerm > prevLongTerm && nowShortTerm < nowLongTerm)\n        return \"SHORT\";\n    })\n    .merge((d, c) => {\n      d.longShort = c;\n    });\n\n  const calculatedData = buySell(long(short(props.data)));\n\n  const { data, xScale, xAccessor, displayXAccessor } =\n    ScaleProvider(calculatedData);\n\n  const pricesDisplayFormat = format(\"$,.2f\");\n  const max = xAccessor(data[data.length - 1]);\n  const min = xAccessor(data[Math.max(0, data.length - 100)]);\n  const xExtents = [min, max];\n\n  const balanceHeight = MAX_HEIGHT * 0.2;\n  const balanceOrigin = [0, 0];\n  const chartHeight = MAX_HEIGHT * 0.8;\n  const chartOrigin = [0, balanceHeight];\n  const barChartHeight = MAX_HEIGHT * 0.2;\n  const barChartOrigin = [0, balanceHeight + chartHeight - barChartHeight];\n\n  const finalHeight = balanceHeight + chartHeight + 25;\n\n  const defaultAnnotationProps = {\n    fontFamily: \"Glyphicons Halflings\",\n    fontSize: 25,\n    opacity: 1,\n  };\n\n  const longAnnotationProps = {\n    ...defaultAnnotationProps,\n    fill: \"#006517\",\n    text: \"\\u25B2\",\n    y: ({ yScale, datum }) => yScale(datum.low) + 20,\n    tooltip: \"Go long\",\n  };\n\n  const shortAnnotationProps = {\n    ...defaultAnnotationProps,\n    fill: \"#E20000\",\n    text: \"\\u25BC\",\n    y: ({ yScale, datum }) => yScale(datum.high),\n    tooltip: \"Go short\",\n  };\n\n  const yExtents = (data) => {\n    return [data.high, data.low];\n  };\n\n  const histValue = data\n    .map((d) => {\n      return d.value;\n    })\n    .sort((a, b) => {\n      return a - b;\n    });\n  const balanceExtents = [\n    histValue[0] * 0.9,\n    histValue[histValue.length - 1] * 1.1,\n  ];\n\n  const dateTimeFormat = \"%d %b '%y %I:%M\";\n  const timeDisplayFormat = timeFormat(dateTimeFormat);\n\n  const barChartExtents = (data) => {\n    return data.volume;\n  };\n\n  const candleChartExtents = (data) => {\n    return [data.high * 1.05, data.low * 0.95];\n  };\n\n  const yEdgeIndicator = (data) => {\n    return data.close;\n  };\n\n  const volumeColor = (data) => {\n    return data.close > data.open\n      ? \"rgba(38, 166, 154, 0.3)\"\n      : \"rgba(239, 83, 80, 0.3)\";\n  };\n\n  const volumeSeries = (data) => {\n    return data.volume;\n  };\n\n  const openCloseColor = (data) => {\n    return data.close > data.open ? \"#26a69a\" : \"#ef5350\";\n  };\n\n  const balanceSeries = (data) => {\n    return data.value;\n  };\n\n  return (\n    <ChartCanvas\n      height={MAX_HEIGHT}\n      ratio={3}\n      width={MAX_WIDTH * 0.8}\n      margin={margin}\n      data={data}\n      displayXAccessor={displayXAccessor}\n      seriesName=\"Data\"\n      xScale={xScale}\n      xAccessor={xAccessor}\n      xExtents={xExtents}\n      zoomAnchor={mouseBasedZoomAnchor}\n      className=\"canvas\"\n      id=\"chartCanvas\"\n    >\n      /** Chart for account balance */\n      <Chart\n        id={6}\n        height={balanceHeight}\n        origin={balanceOrigin}\n        yExtents={balanceExtents}\n      >\n        <LineSeries yAccessor={balanceSeries} />\n        <YAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          tickFormat={pricesDisplayFormat}\n          tickLabelFill=\"white\"\n        />\n        <XAxis\n          gridLinesStrokeStyle=\"#464646\"\n          orient=\"top\"\n          tickLabelFill=\"white\"\n          showTickLabel={false}\n          showTicks={false}\n        />\n        <CurrentCoordinate yAccessor={balanceSeries} />\n        <SingleValueTooltip\n          yAccessor={balanceSeries}\n          yLabel=\"Balance\"\n          yDisplayFormat={(d) => `${pricesDisplayFormat(d)}`}\n          origin={[8, 16]}\n          valueFill=\"white\"\n        />\n      </Chart>\n      /** Volume */\n      <Chart\n        id={2}\n        height={barChartHeight}\n        origin={barChartOrigin}\n        yExtents={barChartExtents}\n      >\n        <BarSeries fillStyle={volumeColor} yAccessor={volumeSeries} />\n      </Chart>\n      /** Candlestick chart */\n      <Chart\n        id={3}\n        height={chartHeight}\n        yExtents={candleChartExtents}\n        origin={chartOrigin}\n      >\n        <XAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          orient=\"top\"\n          tickLabelFill=\"white\"\n        />\n        <YAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          tickFormat={pricesDisplayFormat}\n          tickLabelFill=\"white\"\n        />\n        <CandlestickSeries />\n        <LineSeries yAccessor={short.accessor()} strokeStyle={short.stroke()} />\n        <CurrentCoordinate\n          yAccessor={short.accessor()}\n          fillStyle={short.stroke()}\n        />\n        <LineSeries yAccessor={long.accessor()} strokeStyle={long.stroke()} />\n        <CurrentCoordinate\n          yAccessor={long.accessor()}\n          fillStyle={long.stroke()}\n        />\n\n        <MouseCoordinateX displayFormat={timeDisplayFormat} orient=\"top\" />\n        <MouseCoordinateY\n          rectWidth={margin.right}\n          displayFormat={pricesDisplayFormat}\n        />\n\n        <EdgeIndicator\n          itemType=\"last\"\n          rectWidth={margin.right}\n          fill={openCloseColor}\n          lineStroke={openCloseColor}\n          displayFormat={pricesDisplayFormat}\n          yAccessor={yEdgeIndicator}\n        />\n        <MovingAverageTooltip\n          textFill=\"white\"\n          origin={[8, -80]}\n          options={[\n            {\n              yAccessor: short.accessor(),\n              type: \"EMA\",\n              stroke: short.stroke(),\n              windowSize: short.options().windowSize,\n            },\n            {\n              yAccessor: long.accessor(),\n              type: \"EMA\",\n              stroke: long.stroke(),\n              windowSize: long.options().windowSize,\n            },\n          ]}\n        />\n        <Annotate\n          with={LabelAnnotation}\n          when={(d) => d.longShort === \"LONG\"}\n          usingProps={longAnnotationProps}\n        />\n        <Annotate\n          with={LabelAnnotation}\n          when={(d) => d.longShort === \"SHORT\"}\n          usingProps={shortAnnotationProps}\n        />\n        <OHLCTooltip origin={[8, 16]} textFill=\"white\" />\n        <SingleValueTooltip\n          yAccessor={(d) => d.volume}\n          yLabel=\"V:\"\n          yDisplayFormat={(d) => `${pricesDisplayFormat(d)}`}\n          origin={[9, 35]}\n          valueFill=\"white\"\n        />\n      </Chart>\n      <CrossHairCursor />\n    </ChartCanvas>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport \"react-dates/initialize\";\nimport {\n  DateRangePicker,\n  SingleDatePicker,\n  DayPickerRangeController,\n} from \"react-dates\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport { timeParse } from \"d3-time-format\";\nimport { createStrategyDocument, getStrategyDocument } from \"../../../firebase\";\nimport { UserContext } from \"../../../providers/UserProvider\";\n\nimport EMAChart from \"./EMAChart\";\nimport Orders from \"../Orders\";\n\nimport \"../backtest.css\";\n\nconst queryString = require(\"query-string\");\n\nexport default function EMA(props) {\n  const strategy = \"EMA\";\n  const user = useContext(UserContext);\n  const [uid, setUid] = useState(\"\");\n  const [ticker, setTicker] = useState(\"\");\n  const [interval, setInterval] = useState(\"\");\n  const [shortEMA, setShortEMA] = useState(\"\");\n  const [longEMA, setLongEMA] = useState(\"\");\n  const [investment, setInvestment] = useState(\"\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [data, setData] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [buyAndHold, setBuyAndHold] = useState({});\n\n  const onChangeHandler = (event) => {\n    const { name, value } = event.currentTarget;\n\n    if (name === \"ticker\") setTicker(value.toUpperCase());\n    else if (name === \"interval\") setInterval(value);\n    else if (name === \"shortEMA\") setShortEMA(value);\n    else if (name === \"longEMA\") setLongEMA(value);\n    else if (name === \"investment\") setInvestment(value);\n    else if (name === \"startDate\") setStartDate(value);\n    else if (name === \"endDate\") setEndDate(value);\n    else if (name === \"uid\") setUid(value);\n    else if (name === \"buyAndHold\") setBuyAndHold(value);\n  };\n\n  const setParams = (params) => {\n    for (const [key, value] of Object.entries(params)) {\n      if (key === \"ticker\") setTicker(value.toUpperCase());\n      else if (key === \"interval\") setInterval(value);\n      else if (key === \"shortEMA\") setShortEMA(value);\n      else if (key === \"longEMA\") setLongEMA(value);\n      else if (key === \"investment\") setInvestment(value);\n      else if (key === \"startDate\") setStartDate(value);\n      else if (key === \"endDate\") setEndDate(value);\n      else if (key === \"uid\") setUid(value);\n      else if (key === \"buyAndHold\") setBuyAndHold(value);\n    }\n  };\n\n  const executeTest = (event) => {\n    /**\n     * Execture the backtest with the given params.\n     *\n     * 1. fetch data\n     * 2. run algorithm\n     * 3. report results\n     *\n     */\n\n    var params = {\n      id: ticker,\n      interval: interval,\n      shortEMA: shortEMA,\n      longEMA: longEMA,\n      investment: investment,\n      sDate: startDate !== \"\" ? startDate : undefined,\n      eDate: endDate !== \"\" ? endDate : undefined,\n      strategy: strategy,\n    };\n\n    var query = queryString.stringify(params);\n    fetch(`/backtestStrategy${query !== \"\" ? \"?\" + query : \"\"}`)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        let formattedData = [];\n        data[\"data\"].forEach((d) => {\n          formattedData.push({\n            ...d,\n            date: new Date(d.date),\n          });\n        });\n        setOrders(data.orders);\n        setBuyAndHold(data.buyAndHold);\n        setData(formattedData);\n      });\n    console.log(\"execute test\");\n  };\n\n  const saveTest = (event) => {\n    /**\n     * Save the test to the firebase server\n     *\n     * 1. create a new firebase document with params\n     * 2. save the test to the users account\n     * 3. return UID\n     * 4. display UID\n     */\n\n    event.preventDefault();\n\n    let params = {\n      ticker: ticker,\n      interval: interval,\n      shortEMA: shortEMA,\n      longEMA: longEMA,\n      investment: investment,\n      startDate: startDate,\n      endDate: endDate,\n      buyPercent: null,\n      sellPercent: null,\n    };\n\n    createStrategyDocument(strategy, params)\n      .then((uid) => {\n        setUid(uid);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    console.log(\"saveTest\");\n  };\n\n  const fetchTest = (event) => {\n    event.preventDefault();\n    getStrategyDocument(strategy, uid).then((res) => {\n      console.log(res);\n      setParams(res);\n    });\n  };\n\n  const parseDate = timeParse(\"%Y-%m-%d\");\n\n  return (\n    <div>\n      {data.length > 0 && (\n        <div className=\"chartContainer\">\n          <EMAChart\n            data={data}\n            longShort={{ longEMA: longEMA, shortEMA: shortEMA }}\n          />\n          <Orders orders={orders} buyAndHold={buyAndHold} />\n        </div>\n      )}\n      <div className=\"formContainer\">\n        <div className=\"testTerminal\">\n          {user !== null && user !== undefined && (\n            <div className=\"fetch\">\n              <input\n                id=\"uid\"\n                name=\"uid\"\n                placeholder=\"Search for a strategy here!\"\n                className=\"smaInput\"\n                value={uid}\n                onChange={onChangeHandler}\n              ></input>\n              <input\n                type=\"button\"\n                value=\"Fetch Strategy\"\n                className=\"fetchStratButton\"\n                onClick={fetchTest}\n              />\n            </div>\n          )}\n          <div className=\"paramCont\">\n            <div className=\"leftCol\">\n              <input\n                type=\"text\"\n                id=\"ticker\"\n                name=\"ticker\"\n                className=\"smaInput\"\n                placeholder=\"Ticker\"\n                value={ticker}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n              <input\n                type=\"text\"\n                id=\"shortEMA\"\n                name=\"shortEMA\"\n                className=\"smaInput\"\n                placeholder=\"Short term EMA\"\n                value={shortEMA}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n              <input\n                type=\"text\"\n                id=\"longEMA\"\n                name=\"longEMA\"\n                className=\"smaInput\"\n                placeholder=\"Long term EMA\"\n                value={longEMA}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n            </div>\n            <div className=\"rightCol\">\n              <input\n                id=\"investment\"\n                name=\"investment\"\n                className=\"smaInput\"\n                placeholder=\"How much to invest?\"\n                value={investment}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n              <select\n                className=\"interval\"\n                id=\"interval\"\n                name=\"interval\"\n                className=\"smaInput\"\n                value={interval}\n                onChange={onChangeHandler}\n              >\n                <option value=\"1Min\">1Min</option>\n                <option value=\"5Min\">5Min</option>\n                <option value=\"15Min\">15Min</option>\n                <option value=\"1D\">1Day</option>\n              </select>\n              <div className=\"calendars\">\n                <input\n                  id=\"startDate\"\n                  name=\"startDate\"\n                  className=\"calendarInput\"\n                  placeholder=\"Start Date yyyy/mm/dd\"\n                  value={startDate}\n                  onChange={onChangeHandler}\n                />\n                <input\n                  id=\"endDate\"\n                  name=\"endDate\"\n                  className=\"calendarInput\"\n                  placeholder=\"End Date yyyy/mm/dd\"\n                  value={endDate}\n                  onChange={onChangeHandler}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"actionsRow\">\n            <input\n              type=\"button\"\n              className=\"actionButton\"\n              value=\"Run Test\"\n              onClick={executeTest}\n            />\n            {user !== null && user !== undefined && (\n              <input\n                type=\"button\"\n                className=\"actionButton\"\n                value=\"Save Test\"\n                onClick={saveTest}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { format } from \"d3-format\";\nimport { timeFormat } from \"d3-time-format\";\nimport {\n  elderRay,\n  ema,\n  discontinuousTimeScaleProviderBuilder,\n  Chart,\n  ChartCanvas,\n  CurrentCoordinate,\n  BarSeries,\n  CandlestickSeries,\n  ElderRaySeries,\n  LineSeries,\n  MovingAverageTooltip,\n  OHLCTooltip,\n  SingleValueTooltip,\n  lastVisibleItemBasedZoomAnchor,\n  XAxis,\n  YAxis,\n  CrossHairCursor,\n  EdgeIndicator,\n  MouseCoordinateX,\n  MouseCoordinateY,\n  ZoomButtons,\n  withDeviceRatio,\n  withSize,\n  RSISeries,\n  rsi,\n  sma,\n  algo,\n  Annotate,\n  LabelAnnotation\n} from \"react-financial-charts\";\n\nexport default function RSIChart(props) {\n  const ScaleProvider =\n    discontinuousTimeScaleProviderBuilder().inputDateAccessor(\n      (d) => new Date(d.date)\n    );\n  const MAX_HEIGHT = 650;\n  const MAX_WIDTH = 1600;\n  const margin = { left: 0, right: 48, top: 0, bottom: 24 };\n\n        const rsiPeriod = props.period;\n\n  const defaultAnnotationProps = {\n    fontFamily: \"Glyphicons Halflings\",\n    fontSize: 25,\n    opacity: 1,\n  };\n\n  const longAnnotationProps = {\n    ...defaultAnnotationProps,\n    fill: \"#006517\",\n    text: \"\\u25B2\",\n    y: ({ yScale, datum }) => yScale(datum.low) + 20,\n    tooltip: \"Go long\",\n  };\n\n  const shortAnnotationProps = {\n    ...defaultAnnotationProps,\n    fill: \"#E20000\",\n    text: \"\\u25BC\",\n    y: ({ yScale, datum }) => yScale(datum.high),\n    tooltip: \"Go short\",\n  };\n\n  const rsiAlgo = rsi()\n    .id(4)\n    .options({ windowSize: rsiPeriod })\n    .accessor((d, c) => {\n      d.rsi = c;\n    })\n    .accessor((d) => d.rsi);\n\n    var position = false;\n\n    const buySell = algo()\n    .windowSize(1)\n    .accumulator(([now]) => {\n        const { rsi: strength } = now;\n\n        if (strength < 30 && !position) {\n            position = true;\n            return \"LONG\";\n        }\n        if (strength > 70 && position) {\n            position = false;\n            return \"SHORT\";\n        }\n    })\n    .merge((d, c) => {\n        d.longShort = c;\n    })\n\n  const calculatedData = buySell(rsiAlgo(props.data));\n\n  const { data, xScale, xAccessor, displayXAccessor } =\n    ScaleProvider(calculatedData);\n\n  const pricesDisplayFormat = format(\"$,.2f\");\n  const max = xAccessor(data[data.length - 1]);\n  const min = xAccessor(data[Math.max(0, data.length - 100)]);\n  const xExtents = [min, max + 5];\n\n  const balanceHeight = MAX_HEIGHT * 0.2;\n  const balanceOrigin = [0, 0];\n  const chartHeight = MAX_HEIGHT * 0.6;\n  const chartOrigin = [0, balanceHeight];\n  const barChartHeight = MAX_HEIGHT * 0.2;\n  const barChartOrigin = [0, balanceHeight + chartHeight - barChartHeight];\n  const rsiChartHeight = MAX_HEIGHT * 0.2;\n  const rsiChartOrigin = [0, balanceHeight + chartHeight]\n\nconst histValue = data\n  .map((d) => {\n    return d.value;\n  })\n  .sort((a, b) => {\n    return a - b;\n  });\nconst balanceExtents = [\n  histValue[0] * 0.9,\n  histValue[histValue.length - 1] * 1.1,\n];\n\n  const finalHeight = balanceHeight + chartHeight + rsiChartHeight + 25;\n\n  const yExtents = (data) => {\n    return [data.high, data.low];\n  };\n  const dateTimeFormat = \"%d %b '%y %I:%M\";\n  const timeDisplayFormat = timeFormat(dateTimeFormat);\n\n  const barChartExtents = (data) => {\n    return data.volume;\n  };\n\n  const candleChartExtents = (data) => {\n    return [data.high * 1.05, data.low * 0.95];\n  };\n\n  const yEdgeIndicator = (data) => {\n    return data.close;\n  };\n\n  const volumeColor = (data) => {\n    return data.close > data.open\n      ? \"rgba(38, 166, 154, 0.3)\"\n      : \"rgba(239, 83, 80, 0.3)\";\n  };\n\n  const volumeSeries = (data) => {\n    return data.volume;\n  };\n\n  const openCloseColor = (data) => {\n    return data.close > data.open ? \"#26a69a\" : \"#ef5350\";\n  };\n\n  const balanceSeries = (data) => {\n    return data.value;\n  };\n\n  return (\n    <ChartCanvas\n      height={MAX_HEIGHT}\n      ratio={3}\n      width={MAX_WIDTH * 0.8}\n      margin={margin}\n      data={data}\n      displayXAccessor={displayXAccessor}\n      seriesName=\"Data\"\n      xScale={xScale}\n      xAccessor={xAccessor}\n      xExtents={xExtents}\n      zoomAnchor={lastVisibleItemBasedZoomAnchor}\n      className=\"canvas\"\n    >\n      /** Chart for account balance */\n      <Chart\n        id={6}\n        height={balanceHeight}\n        origin={balanceOrigin}\n        yExtents={balanceExtents}\n      >\n        <LineSeries yAccessor={balanceSeries} />\n        <YAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          tickFormat={pricesDisplayFormat}\n          tickLabelFill=\"white\"\n        />\n        <XAxis\n          gridLinesStrokeStyle=\"#464646\"\n          orient=\"top\"\n          tickLabelFill=\"white\"\n          showTickLabel={false}\n          showTicks={false}\n        />\n        <CurrentCoordinate yAccessor={balanceSeries} />\n        <SingleValueTooltip\n          yAccessor={balanceSeries}\n          yLabel=\"Balance\"\n          yDisplayFormat={(d) => `${pricesDisplayFormat(d)}`}\n          origin={[8, 16]}\n          valueFill=\"white\"\n        />\n      </Chart>\n      <Chart\n        id={2}\n        height={barChartHeight}\n        origin={barChartOrigin}\n        yExtents={barChartExtents}\n      >\n        <BarSeries fillStyle={volumeColor} yAccessor={volumeSeries} />\n      </Chart>\n      <Chart\n        id={3}\n        height={chartHeight}\n        yExtents={candleChartExtents}\n        origin={chartOrigin}\n      >\n        <XAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          orient=\"top\"\n          tickLabelFill=\"white\"\n        />\n        <YAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          tickFormat={pricesDisplayFormat}\n          tickLabelFill=\"white\"\n        />\n        <CandlestickSeries />\n\n        <MouseCoordinateX displayFormat={timeDisplayFormat} orient=\"top\" />\n        <MouseCoordinateY\n          rectWidth={margin.right}\n          displayFormat={pricesDisplayFormat}\n        />\n        <EdgeIndicator\n          itemType=\"last\"\n          rectWidth={margin.right}\n          fill={openCloseColor}\n          lineStroke={openCloseColor}\n          displayFormat={pricesDisplayFormat}\n          yAccessor={yEdgeIndicator}\n        />\n        <OHLCTooltip origin={[8, 16]} textFill=\"white\" />\n        <Annotate\n          with={LabelAnnotation}\n          when={(d) => d.longShort === \"LONG\"}\n          usingProps={longAnnotationProps}\n        />\n        <Annotate\n          with={LabelAnnotation}\n          when={(d) => d.longShort === \"SHORT\"}\n          usingProps={shortAnnotationProps}\n        />\n      </Chart>\n      <Chart\n        id={4}\n        height={150}\n        yExtents={[10, 90]}\n        origin={rsiChartOrigin}\n        padding={{ top: 8, bottom: 8 }}\n      >\n        <XAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          tickLabelFill=\"white\"\n          showTickLabel={false}\n        />\n        <YAxis\n          ticks={4}\n          tickLabelFill=\"white\"\n        />\n\n        <MouseCoordinateX displayFormat={timeDisplayFormat} />\n        <MouseCoordinateY\n          rectWidth={margin.right}\n          displayFormat={pricesDisplayFormat}\n        />\n\n        <RSISeries\n          yAccessor={rsiAlgo.accessor()}\n          strokeStyle={{\n            line: \"rgba(110, 0, 179, 1)\",\n            top: \"#464646\",\n            middle: \"rgba(255, 255, 255, 0)\",\n            bottom: \"#464646\",\n            outsideThreshold: \"rgba(255, 0, 0, 1)\",\n          }}\n        />\n\n        <SingleValueTooltip\n          yAccessor={rsiAlgo.accessor()}\n          yLabel={`RSI (${rsiPeriod})`}\n          yDisplayFormat={(d) => `${pricesDisplayFormat(d)}`}\n          origin={[8, 16]}\n          valueFill=\"white\"\n        />\n      </Chart>\n      <CrossHairCursor />\n    </ChartCanvas>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport \"react-dates/initialize\";\nimport {\n  DateRangePicker,\n  SingleDatePicker,\n  DayPickerRangeController,\n} from \"react-dates\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport { timeParse } from \"d3-time-format\";\nimport { createStrategyDocument, getStrategyDocument } from \"../../../firebase\";\nimport { UserContext } from \"../../../providers/UserProvider\";\n\nimport RSIChart from \"./RSIChart\";\nimport Orders from \"../Orders\";\n\nimport \"../backtest.css\";\n\nconst queryString = require(\"query-string\");\n\nexport default function RSI(props) {\n  const strategy = \"RSI\";\n  const user = useContext(UserContext);\n  const [uid, setUid] = useState(\"\");\n  const [ticker, setTicker] = useState(\"\");\n  const [interval, setInterval] = useState(\"\");\n  const [period, setPeriod] = useState(\"\");\n  const [investment, setInvestment] = useState(\"\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [data, setData] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [buyAndHold, setBuyAndHold] = useState({});\n\n  const onChangeHandler = (event) => {\n    const { name, value } = event.currentTarget;\n\n    if (name === \"ticker\") setTicker(value.toUpperCase());\n    else if (name === \"interval\") setInterval(value);\n    else if (name === \"period\") setPeriod(value);\n    else if (name === \"investment\") setInvestment(value);\n    else if (name === \"startDate\") setStartDate(value);\n    else if (name === \"endDate\") setEndDate(value);\n    else if (name === \"uid\") setUid(value);\n    else if (name === \"buyAndHold\") setBuyAndHold(value);\n  };\n\n  const setParams = (params) => {\n    for (const [key, value] of Object.entries(params)) {\n      if (key === \"ticker\") setTicker(value.toUpperCase());\n      else if (key === \"interval\") setInterval(value);\n      else if (key === \"period\") setPeriod(value);\n      else if (key === \"investment\") setInvestment(value);\n      else if (key === \"startDate\") setStartDate(value);\n      else if (key === \"endDate\") setEndDate(value);\n      else if (key === \"uid\") setUid(value);\n      else if (key === \"buyAndHold\") setBuyAndHold(value);\n    }\n  };\n\n  const executeTest = (event) => {\n    /**\n     * Execture the backtest with the given params.\n     *\n     * 1. fetch data\n     * 2. run algorithm\n     * 3. report results\n     *\n     */\n\n    var params = {\n      id: ticker,\n      interval: interval,\n      period: period,\n      investment: investment,\n      sDate: startDate !== \"\" ? startDate : undefined,\n      eDate: endDate !== \"\" ? endDate : undefined,\n      strategy: strategy,\n    };\n\n    var query = queryString.stringify(params);\n    fetch(`/backtestStrategy${query !== \"\" ? \"?\" + query : \"\"}`)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        let formattedData = [];\n        data[\"data\"].forEach((d) => {\n          formattedData.push({\n            ...d,\n            date: new Date(d.date),\n          });\n        });\n        setOrders(data.orders);\n        setBuyAndHold(data.buyAndHold);\n        setData(formattedData);\n      });\n    console.log(\"execute test\");\n  };\n\n  const saveTest = (event) => {\n    /**\n     * Save the test to the firebase server\n     *\n     * 1. create a new firebase document with params\n     * 2. save the test to the users account\n     * 3. return UID\n     * 4. display UID\n     */\n\n    event.preventDefault();\n\n    let params = {\n      ticker: ticker,\n      interval: interval,\n      period: period,\n      investment: investment,\n      startDate: startDate,\n      endDate: endDate,\n      buyPercent: null,\n      sellPercent: null,\n    };\n\n    createStrategyDocument(strategy, params)\n      .then((uid) => {\n        setUid(uid);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    console.log(\"saveTest\");\n  };\n\n  const fetchTest = (event) => {\n    event.preventDefault();\n    getStrategyDocument(strategy, uid).then((res) => {\n      console.log(res);\n      setParams(res);\n    });\n  };\n\n  const parseDate = timeParse(\"%Y-%m-%d\");\n\n  return (\n    <div>\n      {data.length > 0 && (\n        <div className=\"chartContainer\">\n          <RSIChart data={data} period={period} />\n          <Orders orders={orders} buyAndHold={buyAndHold} />\n        </div>\n      )}\n      <div className=\"formContainer\">\n        <div className=\"testTerminal\">\n          {user !== null && user !== undefined && (\n            <div className=\"fetch\">\n              <input\n                id=\"uid\"\n                name=\"uid\"\n                placeholder=\"Search for a strategy here!\"\n                className=\"smaInput\"\n                value={uid}\n                onChange={onChangeHandler}\n              ></input>\n              <input\n                type=\"button\"\n                value=\"Fetch Strategy\"\n                className=\"fetchStratButton\"\n                onClick={fetchTest}\n              />\n            </div>\n          )}\n          <div className=\"paramCont\">\n            <div className=\"leftCol\">\n              <input\n                type=\"text\"\n                id=\"ticker\"\n                name=\"ticker\"\n                className=\"smaInput\"\n                placeholder=\"Ticker\"\n                value={ticker}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n              <input\n                type=\"text\"\n                id=\"period\"\n                name=\"period\"\n                className=\"smaInput\"\n                placeholder=\"Period (default: 14)\"\n                value={period}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n\n              <select\n                className=\"interval\"\n                id=\"interval\"\n                name=\"interval\"\n                className=\"smaInput\"\n                value={interval}\n                onChange={onChangeHandler}\n              >\n                <option value=\"1Min\">1Min</option>\n                <option value=\"5Min\">5Min</option>\n                <option value=\"15Min\">15Min</option>\n                <option value=\"1D\">1Day</option>\n              </select>\n            </div>\n            <div className=\"rightCol\">\n              <input\n                id=\"investment\"\n                name=\"investment\"\n                className=\"smaInput\"\n                placeholder=\"How much to invest?\"\n                value={investment}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n              <div className=\"calendars\">\n                <input\n                  id=\"startDate\"\n                  name=\"startDate\"\n                  className=\"calendarInput\"\n                  placeholder=\"Start Date yyyy/mm/dd\"\n                  value={startDate}\n                  onChange={onChangeHandler}\n                />\n                <input\n                  id=\"endDate\"\n                  name=\"endDate\"\n                  className=\"calendarInput\"\n                  placeholder=\"End Date yyyy/mm/dd\"\n                  value={endDate}\n                  onChange={onChangeHandler}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"actionsRow\">\n            <input\n              type=\"button\"\n              className=\"actionButton\"\n              value=\"Run Test\"\n              onClick={executeTest}\n            />\n            {user !== null && user !== undefined && (\n              <input\n                type=\"button\"\n                className=\"actionButton\"\n                value=\"Save Test\"\n                onClick={saveTest}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { format } from \"d3-format\";\nimport { timeFormat } from \"d3-time-format\";\nimport {\n  elderRay,\n  ema,\n  discontinuousTimeScaleProviderBuilder,\n  Chart,\n  ChartCanvas,\n  CurrentCoordinate,\n  BarSeries,\n  CandlestickSeries,\n  ElderRaySeries,\n  LineSeries,\n  MovingAverageTooltip,\n  OHLCTooltip,\n  SingleValueTooltip,\n  lastVisibleItemBasedZoomAnchor,\n  XAxis,\n  YAxis,\n  CrossHairCursor,\n  EdgeIndicator,\n  MouseCoordinateX,\n  MouseCoordinateY,\n  ZoomButtons,\n  withDeviceRatio,\n  withSize,\n  RSISeries,\n  rsi,\n  sma,\n  mouseBasedZoomAnchor,\n  BarAnnotation,\n  SvgPathAnnotation,\n  Annotate,\n  Label,\n  LabelAnnotation,\n  algo,\n  macd,\n  MACDSeries,\n  MACDTooltip,\n} from \"react-financial-charts\";\n\nimport \"../backtest.css\";\n\nexport default function MACDChart(props) {\n  const ScaleProvider =\n    discontinuousTimeScaleProviderBuilder().inputDateAccessor(\n      (d) => new Date(d.date)\n    );\n  const MAX_HEIGHT = 650;\n  const MAX_WIDTH = 1600;\n  const margin = { left: 0, right: 48, top: 0, bottom: 24 };\n\n  const ema26 = ema()\n    .id(0)\n    .options({\n      windowSize: 26,\n    })\n    .merge((d, c) => {\n      d.ema26 = c;\n    }) // Required, if not provided, log a error\n    .accessor((d) => d.ema26); // Required, if not provided, log an error during calculation\n\n  const ema12 = ema()\n    .id(1)\n    .options({\n      windowSize: 12,\n    })\n    .merge((d, c) => {\n      d.ema12 = c;\n    }) // Required, if not provided, log a error\n    .accessor((d) => d.ema12); // Required, if not provided, log an error during calculation\n\n  const macdCalculator = macd()\n    .options({\n      fast: 12,\n      slow: 26,\n      signal: 9,\n    })\n    .merge((d, c) => {\n      d.macd = c;\n    })\n    .accessor((d) => d.macd);\n\n  const smaVolume50 = sma()\n    .id(3)\n    .options({\n      windowSize: 50,\n      sourcePath: \"volume\",\n    })\n    .merge((d, c) => {\n      d.smaVolume50 = c;\n    })\n    .accessor((d) => d.smaVolume50);\n\n  const buySell = algo()\n    .windowSize(2)\n    .accumulator(([prev, now]) => {\n      const { shortEMA: prevShortTerm, longEMA: prevLongTerm } = prev;\n      const { shortEMA: nowShortTerm, longEMA: nowLongTerm } = now;\n\n      if (prevShortTerm < prevLongTerm && nowShortTerm > nowLongTerm)\n        return \"LONG\";\n      if (prevShortTerm > prevLongTerm && nowShortTerm < nowLongTerm)\n        return \"SHORT\";\n    })\n    .merge((d, c) => {\n      d.longShort = c;\n    });\n\n  const calculatedData = smaVolume50(macdCalculator(ema12(ema26(props.data))));\n  console.log(calculatedData)\n\n  const { data, xScale, xAccessor, displayXAccessor } =\n    ScaleProvider(calculatedData);\n\n  const pricesDisplayFormat = format(\"$,.2f\");\n  const max = xAccessor(data[data.length - 1]);\n  const min = xAccessor(data[Math.max(0, data.length - 100)]);\n  const xExtents = [min, max + 5];\n\n  const balanceHeight = MAX_HEIGHT * 0.2;\n  const balanceOrigin = [0, 0];\n  const chartHeight = MAX_HEIGHT * 0.6;\n  const chartOrigin = [0, balanceHeight];\n  const barChartHeight = MAX_HEIGHT * 0.2;\n  const barChartOrigin = [0, balanceHeight + chartHeight - barChartHeight];\n  const macdChartHeight = MAX_HEIGHT * 0.2;\n  const macdChartOrigin = [0, balanceHeight + chartHeight];\n\n  const finalHeight = balanceHeight + chartHeight + 25;\n\n  const defaultAnnotationProps = {\n    fontFamily: \"Glyphicons Halflings\",\n    fontSize: 25,\n    opacity: 1,\n  };\n\n  const longAnnotationProps = {\n    ...defaultAnnotationProps,\n    fill: \"#006517\",\n    text: \"\\u25B2\",\n    y: ({ yScale, datum }) => yScale(datum.low) + 20,\n    tooltip: \"Go long\",\n  };\n\n  const shortAnnotationProps = {\n    ...defaultAnnotationProps,\n    fill: \"#E20000\",\n    text: \"\\u25BC\",\n    y: ({ yScale, datum }) => yScale(datum.high),\n    tooltip: \"Go short\",\n  };\n\n  const macdAppearance = {\n    strokeStyle: {\n      macd: \"#FF0000\",\n      signal: \"#00F300\",\n    },\n    fillStyle: {\n      divergence: \"#4682B4\",\n    },\n  };\n\n  const mouseEdgeAppearance = {\n    textFill: \"#542605\",\n    stroke: \"#05233B\",\n    strokeOpacity: 1,\n    strokeWidth: 3,\n    arrowWidth: 5,\n    fill: \"#BCDEFA\",\n  };\n  const yExtents = (data) => {\n    return [data.high, data.low];\n  };\n\n  const histValue = data\n    .map((d) => {\n      return d.value;\n    })\n    .sort((a, b) => {\n      return a - b;\n    });\n  const balanceExtents = [\n    histValue[0] * 0.9,\n    histValue[histValue.length - 1] * 1.1,\n  ];\n\n  const dateTimeFormat = \"%d %b '%y %I:%M\";\n  const timeDisplayFormat = timeFormat(dateTimeFormat);\n\n  const barChartExtents = (data) => {\n    return data.volume;\n  };\n\n  const candleChartExtents = (data) => {\n    return [data.high * 1.05, data.low * 0.95];\n  };\n\n  const yEdgeIndicator = (data) => {\n    return data.close;\n  };\n\n  const volumeColor = (data) => {\n    return data.close > data.open\n      ? \"rgba(38, 166, 154, 0.3)\"\n      : \"rgba(239, 83, 80, 0.3)\";\n  };\n\n  const volumeSeries = (data) => {\n    return data.volume;\n  };\n\n  const openCloseColor = (data) => {\n    return data.close > data.open ? \"#26a69a\" : \"#ef5350\";\n  };\n\n  const balanceSeries = (data) => {\n    return data.value;\n  };\n\n  return (\n    <ChartCanvas\n      height={MAX_HEIGHT}\n      ratio={3}\n      width={MAX_WIDTH * 0.8}\n      margin={margin}\n      data={data}\n      displayXAccessor={displayXAccessor}\n      seriesName=\"Data\"\n      xScale={xScale}\n      xAccessor={xAccessor}\n      xExtents={xExtents}\n      zoomAnchor={mouseBasedZoomAnchor}\n      className=\"canvas\"\n      id=\"chartCanvas\"\n    >\n      /** Chart for account balance */\n      <Chart\n        id={6}\n        height={balanceHeight}\n        origin={balanceOrigin}\n        yExtents={balanceExtents}\n      >\n        <LineSeries yAccessor={balanceSeries} />\n        <YAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          tickFormat={pricesDisplayFormat}\n          tickLabelFill=\"white\"\n        />\n        <XAxis\n          gridLinesStrokeStyle=\"#464646\"\n          orient=\"top\"\n          tickLabelFill=\"white\"\n          showTickLabel={false}\n          showTicks={false}\n        />\n        <CurrentCoordinate yAccessor={balanceSeries} />\n        <SingleValueTooltip\n          yAccessor={balanceSeries}\n          yLabel=\"Balance\"\n          yDisplayFormat={(d) => `${pricesDisplayFormat(d)}`}\n          origin={[8, 16]}\n          valueFill=\"white\"\n        />\n      </Chart>\n      /** Volume */\n      <Chart\n        id={2}\n        height={barChartHeight}\n        origin={barChartOrigin}\n        yExtents={barChartExtents}\n      >\n        <BarSeries fillStyle={volumeColor} yAccessor={volumeSeries} />\n      </Chart>\n      /** Candlestick chart */\n      <Chart\n        id={3}\n        height={chartHeight}\n        yExtents={candleChartExtents}\n        origin={chartOrigin}\n      >\n        <XAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          orient=\"top\"\n          tickLabelFill=\"white\"\n        />\n        <YAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          tickFormat={pricesDisplayFormat}\n          tickLabelFill=\"white\"\n        />\n        <CandlestickSeries />\n        <LineSeries yAccessor={ema12.accessor()} strokeStyle={ema12.stroke()} />\n        <CurrentCoordinate\n          yAccessor={ema12.accessor()}\n          fillStyle={ema12.stroke()}\n        />\n        <LineSeries yAccessor={ema26.accessor()} strokeStyle={ema26.stroke()} />\n        <CurrentCoordinate\n          yAccessor={ema26.accessor()}\n          fillStyle={ema26.stroke()}\n        />\n\n        <MouseCoordinateX displayFormat={timeDisplayFormat} orient=\"top\" />\n        <MouseCoordinateY\n          rectWidth={margin.right}\n          displayFormat={pricesDisplayFormat}\n        />\n\n        <EdgeIndicator\n          itemType=\"last\"\n          rectWidth={margin.right}\n          fill={openCloseColor}\n          lineStroke={openCloseColor}\n          displayFormat={pricesDisplayFormat}\n          yAccessor={yEdgeIndicator}\n        />\n        <MovingAverageTooltip\n          textFill=\"white\"\n          origin={[8, -80]}\n          options={[\n            {\n              yAccessor: ema12.accessor(),\n              type: \"EMA\",\n              stroke: ema12.stroke(),\n              windowSize: ema12.options().windowSize,\n            },\n            {\n              yAccessor: ema26.accessor(),\n              type: \"EMA\",\n              stroke: ema26.stroke(),\n              windowSize: ema26.options().windowSize,\n            },\n          ]}\n        />\n        <OHLCTooltip origin={[8, 16]} textFill=\"white\" />\n        <SingleValueTooltip\n          yAccessor={(d) => d.volume}\n          yLabel=\"V:\"\n          yDisplayFormat={(d) => `${pricesDisplayFormat(d)}`}\n          origin={[9, 35]}\n          valueFill=\"white\"\n        />\n      </Chart>\n      <Chart\n        id={3}\n        height={150}\n        yExtents={[0, 10]}\n        origin={macdChartOrigin}\n        padding={{ top: 8, bottom: 8 }}\n        className=\"foo\"\n      >\n        <XAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          tickLabelFill=\"white\"\n          showTickLabel={false}\n        />\n        <YAxis ticks={4} tickFormat={pricesDisplayFormat} />\n\n        <MouseCoordinateX displayFormat={timeDisplayFormat} />\n        <MouseCoordinateY\n          rectWidth={margin.right}\n          displayFormat={pricesDisplayFormat}\n        />\n\n        <MACDSeries yAccessor={macdCalculator.accessor()} />\n      </Chart>\n      <CrossHairCursor />\n    </ChartCanvas>\n  );\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { format } from \"d3-format\";\nimport { timeFormat } from \"d3-time-format\";\n\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\nimport {\n\tBarSeries,\n\tAreaSeries,\n\tCandlestickSeries,\n\tLineSeries,\n\tMACDSeries,\n} from \"react-stockcharts/lib/series\";\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\nimport {\n\tCrossHairCursor,\n\tEdgeIndicator,\n\tCurrentCoordinate,\n\tMouseCoordinateX,\n\tMouseCoordinateY,\n} from \"react-stockcharts/lib/coordinates\";\n\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\";\nimport {\n\tOHLCTooltip,\n\tMovingAverageTooltip,\n\tMACDTooltip,\n} from \"react-stockcharts/lib/tooltip\";\nimport { ema, macd, sma } from \"react-stockcharts/lib/indicator\";\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\n\nconst macdAppearance = {\n\tstroke: {\n\t\tmacd: \"#FF0000\",\n\t\tsignal: \"#00F300\",\n\t},\n\tfill: {\n\t\tdivergence: \"#4682B4\"\n\t},\n};\n\nconst mouseEdgeAppearance = {\n\ttextFill: \"#542605\",\n\tstroke: \"#05233B\",\n\tstrokeOpacity: 1,\n\tstrokeWidth: 3,\n\tarrowWidth: 5,\n\tfill: \"#BCDEFA\",\n};\n\nexport default class TestMACD extends React.Component {\n\trender() {\n\t\tconst { type, data: initialData, width, ratio } = this.props;\n\t\tconst ema26 = ema()\n\t\t\t.id(0)\n\t\t\t.options({ windowSize: 26 })\n\t\t\t.merge((d, c) => { d.ema26 = c; })\n\t\t\t.accessor(d => d.ema26);\n\n\t\tconst ema12 = ema()\n\t\t\t.id(1)\n\t\t\t.options({ windowSize: 12 })\n\t\t\t.merge((d, c) => {d.ema12 = c;})\n\t\t\t.accessor(d => d.ema12);\n\n\t\tconst macdCalculator = macd()\n\t\t\t.options({\n\t\t\t\tfast: 12,\n\t\t\t\tslow: 26,\n\t\t\t\tsignal: 9,\n\t\t\t})\n\t\t\t.merge((d, c) => {d.macd = c;})\n\t\t\t.accessor(d => d.macd);\n\n\t\tconst smaVolume50 = sma()\n\t\t\t.id(3)\n\t\t\t.options({\n\t\t\t\twindowSize: 50,\n\t\t\t\tsourcePath: \"volume\",\n\t\t\t})\n\t\t\t.merge((d, c) => {d.smaVolume50 = c;})\n\t\t\t.accessor(d => d.smaVolume50);\n\n\t\tconst calculatedData = smaVolume50(macdCalculator(ema12(ema26(initialData))));\n\t\tconst xScaleProvider = discontinuousTimeScaleProvider\n\t\t\t.inputDateAccessor(d => d.date);\n\t\tconst {\n\t\t\tdata,\n\t\t\txScale,\n\t\t\txAccessor,\n\t\t\tdisplayXAccessor,\n\t\t} = xScaleProvider(calculatedData);\n\n\t\treturn (\n\t\t\t<ChartCanvas height={600}\n\t\t\t\twidth={width}\n\t\t\t\tratio={ratio}\n\t\t\t\tmargin={{ left: 70, right: 70, top: 20, bottom: 30 }}\n\t\t\t\ttype={type}\n\t\t\t\tseriesName=\"MSFT\"\n\t\t\t\tdata={data}\n\t\t\t\txScale={xScale}\n\t\t\t\txAccessor={xAccessor}\n\t\t\t\tdisplayXAccessor={displayXAccessor}\n\t\t\t>\n\t\t\t\t<Chart id={1} height={400}\n\t\t\t\t\tyExtents={[d => [d.high, d.low], ema26.accessor(), ema12.accessor()]}\n\t\t\t\t\tpadding={{ top: 10, bottom: 20 }}\n\t\t\t\t>\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" showTicks={false} outerTickSize={0} />\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={5} />\n\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")}\n\t\t\t\t\t\t{...mouseEdgeAppearance}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CandlestickSeries />\n\t\t\t\t\t<LineSeries yAccessor={ema26.accessor()} stroke={ema26.stroke()}/>\n\t\t\t\t\t<LineSeries yAccessor={ema12.accessor()} stroke={ema12.stroke()}/>\n\n\t\t\t\t\t<CurrentCoordinate yAccessor={ema26.accessor()} fill={ema26.stroke()} />\n\t\t\t\t\t<CurrentCoordinate yAccessor={ema12.accessor()} fill={ema12.stroke()} />\n\n\t\t\t\t\t<EdgeIndicator itemType=\"last\" orient=\"right\" edgeAt=\"right\"\n\t\t\t\t\t\tyAccessor={d => d.close}\n\t\t\t\t\t\tfill={d => d.close > d.open ? \"#A2F5BF\" : \"#F9ACAA\"}\n\t\t\t\t\t\tstroke={d => d.close > d.open ? \"#0B4228\" : \"#6A1B19\"}\n\t\t\t\t\t\ttextFill={d => d.close > d.open ? \"#0B4228\" : \"#420806\"}\n\t\t\t\t\t\tstrokeOpacity={1}\n\t\t\t\t\t\tstrokeWidth={3}\n\t\t\t\t\t\tarrowWidth={2}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<OHLCTooltip origin={[-40, 0]}/>\n\t\t\t\t\t<MovingAverageTooltip\n\t\t\t\t\t\tonClick={e => console.log(e)}\n\t\t\t\t\t\torigin={[-38, 15]}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tyAccessor: ema26.accessor(),\n\t\t\t\t\t\t\t\ttype: \"EMA\",\n\t\t\t\t\t\t\t\tstroke: ema26.stroke(),\n\t\t\t\t\t\t\t\twindowSize: ema26.options().windowSize,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tyAccessor: ema12.accessor(),\n\t\t\t\t\t\t\t\ttype: \"EMA\",\n\t\t\t\t\t\t\t\tstroke: ema12.stroke(),\n\t\t\t\t\t\t\t\twindowSize: ema12.options().windowSize,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={2} height={150}\n\t\t\t\t\tyExtents={[d => d.volume, smaVolume50.accessor()]}\n\t\t\t\t\torigin={(w, h) => [0, h - 300]}\n\t\t\t\t>\n\t\t\t\t\t<YAxis axisAt=\"left\" orient=\"left\" ticks={5} tickFormat={format(\".2s\")}/>\n\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"left\"\n\t\t\t\t\t\torient=\"left\"\n\t\t\t\t\t\tdisplayFormat={format(\".4s\")}\n\t\t\t\t\t\t{...mouseEdgeAppearance}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<BarSeries yAccessor={d => d.volume} fill={d => d.close > d.open ? \"#6BA583\" : \"#FF0000\"} />\n\t\t\t\t\t<AreaSeries yAccessor={smaVolume50.accessor()} stroke={smaVolume50.stroke()} fill={smaVolume50.fill()}/>\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={3} height={150}\n\t\t\t\t\tyExtents={macdCalculator.accessor()}\n\t\t\t\t\torigin={(w, h) => [0, h - 150]} padding={{ top: 10, bottom: 10 }}\n\t\t\t\t>\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\"/>\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={2} />\n\n\t\t\t\t\t<MouseCoordinateX\n\t\t\t\t\t\tat=\"bottom\"\n\t\t\t\t\t\torient=\"bottom\"\n\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")}\n\t\t\t\t\t\trectRadius={5}\n\t\t\t\t\t\t{...mouseEdgeAppearance}\n\t\t\t\t\t/>\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")}\n\t\t\t\t\t\t{...mouseEdgeAppearance}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<MACDSeries yAccessor={d => d.macd}\n\t\t\t\t\t\t{...macdAppearance} />\n\t\t\t\t\t<MACDTooltip\n\t\t\t\t\t\torigin={[-38, 15]}\n\t\t\t\t\t\tyAccessor={d => d.macd}\n\t\t\t\t\t\toptions={macdCalculator.options()}\n\t\t\t\t\t\tappearance={macdAppearance}\n\t\t\t\t\t/>\n\t\t\t\t</Chart>\n\t\t\t\t<CrossHairCursor />\n\t\t\t</ChartCanvas>\n\t\t);\n\t}\n}\n","import React, { useState, useContext } from \"react\";\nimport \"react-dates/initialize\";\nimport {\n  DateRangePicker,\n  SingleDatePicker,\n  DayPickerRangeController,\n} from \"react-dates\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport { timeParse } from \"d3-time-format\";\nimport { createStrategyDocument, getStrategyDocument } from \"../../../firebase\";\nimport { UserContext } from \"../../../providers/UserProvider\";\n\nimport MACDChart from \"./MACDChart\";\nimport TestMACD from \"./TestMACD\";\nimport Orders from \"../Orders\";\n\nimport \"../backtest.css\";\n\nconst queryString = require(\"query-string\");\n\nexport default function MACD(props) {\n  const strategy = \"MACD\";\n  const user = useContext(UserContext);\n  const [uid, setUid] = useState(\"\");\n  const [ticker, setTicker] = useState(\"\");\n  const [interval, setInterval] = useState(\"\");\n  const [shortSMA, setShortSMA] = useState(\"\");\n  const [longSMA, setLongSMA] = useState(\"\");\n  const [investment, setInvestment] = useState(\"\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [data, setData] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [advanced, setAdvanced] = useState(false);\n  const [buyAndHold, setBuyAndHold] = useState({});\n\n  const onChangeHandler = (event) => {\n    const { name, value } = event.currentTarget;\n\n    if (name === \"ticker\") setTicker(value.toUpperCase());\n    else if (name === \"interval\") setInterval(value);\n    else if (name === \"shortSMA\") setShortSMA(value);\n    else if (name === \"longSMA\") setLongSMA(value);\n    else if (name === \"investment\") setInvestment(value);\n    else if (name === \"startDate\") setStartDate(value);\n    else if (name === \"endDate\") setEndDate(value);\n    else if (name === \"uid\") setUid(value);\n    else if (name === \"buyAndHold\") setBuyAndHold(value);\n  };\n\n  const setParams = (params) => {\n    for (const [key, value] of Object.entries(params)) {\n      if (key === \"ticker\") setTicker(value.toUpperCase());\n      else if (key === \"interval\") setInterval(value);\n      else if (key === \"shortSMA\") setShortSMA(value);\n      else if (key === \"longSMA\") setLongSMA(value);\n      else if (key === \"investment\") setInvestment(value);\n      else if (key === \"startDate\") setStartDate(value);\n      else if (key === \"endDate\") setEndDate(value);\n      else if (key === \"uid\") setUid(value);\n      else if (key === \"buyAndHold\") setBuyAndHold(value);\n    }\n  };\n\n  const executeTest = (event) => {\n    /**\n     * Execture the backtest with the given params.\n     *\n     * 1. fetch data\n     * 2. run algorithm\n     * 3. report results\n     *\n     */\n\n    var params = {\n      id: ticker,\n      interval: interval,\n      shortSMA: shortSMA,\n      longSMA: longSMA,\n      investment: investment,\n      sDate: startDate !== \"\" ? startDate : undefined,\n      eDate: endDate !== \"\" ? endDate : undefined,\n      strategy: strategy,\n    };\n\n    var query = queryString.stringify(params);\n    fetch(`/backtestStrategy${query !== \"\" ? \"?\" + query : \"\"}`)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        let formattedData = [];\n        data[\"data\"].forEach((d) => {\n          formattedData.push({\n            ...d,\n            date: new Date(d.date),\n          });\n        });\n        setOrders(data.orders);\n        setBuyAndHold(data.buyAndHold);\n        setData(formattedData);\n      });\n    console.log(\"execute test\");\n  };\n\n  const saveTest = (event) => {\n    /**\n     * Save the test to the firebase server\n     *\n     * 1. create a new firebase document with params\n     * 2. save the test to the users account\n     * 3. return UID\n     * 4. display UID\n     */\n\n    event.preventDefault();\n\n    let params = {\n      ticker: ticker,\n      interval: interval,\n      shortSMA: shortSMA,\n      longSMA: longSMA,\n      investment: investment,\n      startDate: startDate,\n      endDate: endDate,\n      buyPercent: null,\n      sellPercent: null,\n    };\n\n    createStrategyDocument(strategy, params)\n      .then((uid) => {\n        setUid(uid);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    console.log(\"saveTest\");\n  };\n\n  const fetchTest = (event) => {\n    event.preventDefault();\n    getStrategyDocument(strategy, uid).then((res) => {\n      console.log(res);\n      setParams(res);\n    });\n  };\n\n  const parseDate = timeParse(\"%Y-%m-%d\");\n\n  return (\n    <div>\n      {data.length > 0 && (\n        <div className=\"chartContainer\">\n          <MACDChart data={data} />\n          <Orders orders={orders} buyAndHold={buyAndHold} />\n        </div>\n      )}\n      <div className=\"formContainer\">\n        <div className=\"testTerminal\">\n          {user !== null && user !== undefined && (\n            <div className=\"fetch\">\n              <input\n                id=\"uid\"\n                name=\"uid\"\n                placeholder=\"Search for a strategy here!\"\n                className=\"smaInput\"\n                value={uid}\n                onChange={onChangeHandler}\n              ></input>\n              <input\n                type=\"button\"\n                value=\"Fetch Strategy\"\n                className=\"fetchStratButton\"\n                onClick={fetchTest}\n              />\n            </div>\n          )}\n          <div className=\"paramCont\">\n            <div className=\"leftCol\">\n              <input\n                type=\"text\"\n                id=\"ticker\"\n                name=\"ticker\"\n                className=\"smaInput\"\n                placeholder=\"Ticker\"\n                value={ticker}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n              <input\n                type=\"text\"\n                id=\"shortSMA\"\n                name=\"shortSMA\"\n                className=\"smaInput\"\n                placeholder=\"Short term SMA\"\n                value={shortSMA}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n              <input\n                type=\"text\"\n                id=\"longSMA\"\n                name=\"longSMA\"\n                className=\"smaInput\"\n                placeholder=\"Long term SMA\"\n                value={longSMA}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n\n              <select\n                className=\"interval\"\n                id=\"interval\"\n                name=\"interval\"\n                className=\"smaInput\"\n                value={interval}\n                onChange={onChangeHandler}\n              >\n                <option value=\"1Min\">1Min</option>\n                <option value=\"5Min\">5Min</option>\n                <option value=\"15Min\">15Min</option>\n                <option value=\"1D\">1Day</option>\n              </select>\n            </div>\n            <div className=\"rightCol\">\n              <input\n                id=\"investment\"\n                name=\"investment\"\n                className=\"smaInput\"\n                placeholder=\"How much to invest?\"\n                value={investment}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n\n              <input\n                type=\"text\"\n                id=\"buyPercent\"\n                name=\"buyPercent\"\n                className=\"smaInput\"\n                autoComplete=\"off\"\n                placeholder=\"Percentage of available funds to use.\"\n              ></input>\n              <input\n                type=\"text\"\n                id=\"sellPercent\"\n                name=\"sellPercent\"\n                className=\"smaInput\"\n                autoComplete=\"off\"\n                placeholder=\"Percentage of available shares to sell.\"\n              ></input>\n              <div className=\"calendars\">\n                <input\n                  id=\"startDate\"\n                  name=\"startDate\"\n                  className=\"calendarInput\"\n                  placeholder=\"Start Date yyyy/mm/dd\"\n                  value={startDate}\n                  onChange={onChangeHandler}\n                />\n                <input\n                  id=\"endDate\"\n                  name=\"endDate\"\n                  className=\"calendarInput\"\n                  placeholder=\"End Date yyyy/mm/dd\"\n                  value={endDate}\n                  onChange={onChangeHandler}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"actionsRow\">\n            <input\n              type=\"button\"\n              className=\"actionButton\"\n              value=\"Run Test\"\n              onClick={executeTest}\n            />\n            {user !== null && user !== undefined && (\n              <input\n                type=\"button\"\n                className=\"actionButton\"\n                value=\"Save Test\"\n                onClick={saveTest}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { format } from \"d3-format\";\nimport { timeFormat } from \"d3-time-format\";\nimport {\n  elderRay,\n  ema,\n  discontinuousTimeScaleProviderBuilder,\n  Chart,\n  ChartCanvas,\n  CurrentCoordinate,\n  BarSeries,\n  CandlestickSeries,\n  ElderRaySeries,\n  LineSeries,\n  MovingAverageTooltip,\n  OHLCTooltip,\n  SingleValueTooltip,\n  lastVisibleItemBasedZoomAnchor,\n  XAxis,\n  YAxis,\n  CrossHairCursor,\n  EdgeIndicator,\n  MouseCoordinateX,\n  MouseCoordinateY,\n  ZoomButtons,\n  withDeviceRatio,\n  withSize,\n  RSISeries,\n  rsi,\n  sma,\n  mouseBasedZoomAnchor,\n  BarAnnotation,\n  SvgPathAnnotation,\n  Annotate,\n  Label,\n  LabelAnnotation,\n  algo,\n} from \"react-financial-charts\";\n\nimport \"../backtest.css\";\n\nexport default function VWAPChart(props) {\n  const ScaleProvider =\n    discontinuousTimeScaleProviderBuilder().inputDateAccessor(\n      (d) => new Date(d.date)\n    );\n  const MAX_HEIGHT = 650;\n  const MAX_WIDTH = 1600;\n  const margin = { left: 0, right: 48, top: 0, bottom: 24 };\n\n  const buySell = algo()\n    .windowSize(2)\n    .accumulator(([prev, now]) => {\n      const { shortSMA: prevShortTerm, longSMA: prevLongTerm } = prev;\n      const { shortSMA: nowShortTerm, longSMA: nowLongTerm } = now;\n\n      if (prevShortTerm < prevLongTerm && nowShortTerm > nowLongTerm)\n        return \"LONG\";\n      if (prevShortTerm > prevLongTerm && nowShortTerm < nowLongTerm)\n        return \"SHORT\";\n    })\n    .merge((d, c) => {\n      d.longShort = c;\n    });\n\n  const { data, xScale, xAccessor, displayXAccessor } =\n    ScaleProvider(props.data);\n\n  const pricesDisplayFormat = format(\"$,.2f\");\n  const max = xAccessor(data[data.length - 1]);\n  const min = xAccessor(data[Math.max(0, data.length - 100)]);\n  const xExtents = [min, max];\n\n  const balanceHeight = MAX_HEIGHT * 0.2;\n  const balanceOrigin = [0, 0];\n  const chartHeight = MAX_HEIGHT * 0.8;\n  const chartOrigin = [0, balanceHeight];\n  const barChartHeight = MAX_HEIGHT * 0.2;\n  const barChartOrigin = [0, balanceHeight + chartHeight - barChartHeight];\n\n  const finalHeight = balanceHeight + chartHeight + 25;\n\n  const defaultAnnotationProps = {\n    fontFamily: \"Glyphicons Halflings\",\n    fontSize: 25,\n    opacity: 1,\n  };\n\n  const longAnnotationProps = {\n    ...defaultAnnotationProps,\n    fill: \"#006517\",\n    text: \"\\u25B2\",\n    y: ({ yScale, datum }) => yScale(datum.low) + 20,\n    tooltip: \"Go long\",\n  };\n\n  const shortAnnotationProps = {\n    ...defaultAnnotationProps,\n    fill: \"#E20000\",\n    text: \"\\u25BC\",\n    y: ({ yScale, datum }) => yScale(datum.high),\n    tooltip: \"Go short\",\n  };\n\n  const yExtents = (data) => {\n    return [data.high, data.low];\n  };\n\n  const histValue = data\n    .map((d) => {\n      return d.value;\n    })\n    .sort((a, b) => {\n      return a - b;\n    });\n  const balanceExtents = [\n    histValue[0] * 0.9,\n    histValue[histValue.length - 1] * 1.1,\n  ];\n\n  const dateTimeFormat = \"%d %b '%y %I:%M\";\n  const timeDisplayFormat = timeFormat(dateTimeFormat);\n\n  const barChartExtents = (data) => {\n    return data.volume;\n  };\n\n  const candleChartExtents = (data) => {\n    return [data.high * 1.05, data.low * 0.95];\n  };\n\n  const yEdgeIndicator = (data) => {\n    return data.close;\n  };\n\n  const volumeColor = (data) => {\n    return data.close > data.open\n      ? \"rgba(38, 166, 154, 0.3)\"\n      : \"rgba(239, 83, 80, 0.3)\";\n  };\n\n  const volumeSeries = (data) => {\n    return data.volume;\n  };\n\n  const openCloseColor = (data) => {\n    return data.close > data.open ? \"#26a69a\" : \"#ef5350\";\n  };\n\n  const balanceSeries = (data) => {\n    return data.value;\n  };\n\n  return (\n    <ChartCanvas\n      height={MAX_HEIGHT}\n      ratio={3}\n      width={MAX_WIDTH * 0.8}\n      margin={margin}\n      data={data}\n      displayXAccessor={displayXAccessor}\n      seriesName=\"Data\"\n      xScale={xScale}\n      xAccessor={xAccessor}\n      xExtents={xExtents}\n      zoomAnchor={mouseBasedZoomAnchor}\n      className=\"canvas\"\n      id=\"chartCanvas\"\n    >\n      /** Chart for account balance */\n      <Chart\n        id={6}\n        height={balanceHeight}\n        origin={balanceOrigin}\n        yExtents={balanceExtents}\n      >\n        <LineSeries yAccessor={balanceSeries} />\n        <YAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          tickFormat={pricesDisplayFormat}\n          tickLabelFill=\"white\"\n        />\n        <XAxis\n          gridLinesStrokeStyle=\"#464646\"\n          orient=\"top\"\n          tickLabelFill=\"white\"\n          showTickLabel={false}\n          showTicks={false}\n        />\n        <CurrentCoordinate yAccessor={balanceSeries} />\n        <SingleValueTooltip\n          yAccessor={balanceSeries}\n          yLabel=\"Balance\"\n          yDisplayFormat={(d) => `${pricesDisplayFormat(d)}`}\n          origin={[8, 16]}\n          valueFill=\"white\"\n        />\n      </Chart>\n      /** Volume */\n      <Chart\n        id={2}\n        height={barChartHeight}\n        origin={barChartOrigin}\n        yExtents={barChartExtents}\n      >\n        <BarSeries fillStyle={volumeColor} yAccessor={volumeSeries} />\n      </Chart>\n      /** Candlestick chart */\n      <Chart\n        id={3}\n        height={chartHeight}\n        yExtents={candleChartExtents}\n        origin={chartOrigin}\n      >\n        <XAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          orient=\"top\"\n          tickLabelFill=\"white\"\n        />\n        <YAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          tickFormat={pricesDisplayFormat}\n          tickLabelFill=\"white\"\n        />\n        <CandlestickSeries />\n\n        <LineSeries yAccessor={(d) => d.vwap} />\n        <CurrentCoordinate\n          yAccessor={(d) => d.vwap}\n        />\n        <MouseCoordinateX displayFormat={timeDisplayFormat} orient=\"top\" />\n        <MouseCoordinateY\n          rectWidth={margin.right}\n          displayFormat={pricesDisplayFormat}\n        />\n\n        <EdgeIndicator\n          itemType=\"last\"\n          rectWidth={margin.right}\n          fill={openCloseColor}\n          lineStroke={openCloseColor}\n          displayFormat={pricesDisplayFormat}\n          yAccessor={yEdgeIndicator}\n        />\n        <OHLCTooltip origin={[8, 16]} textFill=\"white\" />\n        <SingleValueTooltip\n          yAccessor={(d) => d.volume}\n          yLabel=\"V:\"\n          yDisplayFormat={(d) => `${pricesDisplayFormat(d)}`}\n          origin={[9, 35]}\n          valueFill=\"white\"\n        />\n      </Chart>\n      <CrossHairCursor />\n    </ChartCanvas>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport \"react-dates/initialize\";\nimport {\n  DateRangePicker,\n  SingleDatePicker,\n  DayPickerRangeController,\n} from \"react-dates\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport { timeParse } from \"d3-time-format\";\nimport { createStrategyDocument, getStrategyDocument } from \"../../../firebase\";\nimport { UserContext } from \"../../../providers/UserProvider\";\n\nimport VWAPChart from \"./VWAPChart\";\nimport Orders from \"../Orders\";\n\nimport \"../backtest.css\";\n\nconst queryString = require(\"query-string\");\n\nexport default function SMA(props) {\n  const strategy = \"VWAP\";\n  const user = useContext(UserContext);\n  const [uid, setUid] = useState(\"\");\n  const [ticker, setTicker] = useState(\"\");\n  const [interval, setInterval] = useState(\"\");\n  const [investment, setInvestment] = useState(\"\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [data, setData] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [buyAndHold, setBuyAndHold] = useState({});\n\n  const onChangeHandler = (event) => {\n    const { name, value } = event.currentTarget;\n\n    if (name === \"ticker\") setTicker(value.toUpperCase());\n    else if (name === \"interval\") setInterval(value);\n    else if (name === \"investment\") setInvestment(value);\n    else if (name === \"startDate\") setStartDate(value);\n    else if (name === \"endDate\") setEndDate(value);\n    else if (name === \"uid\") setUid(value);\n    else if (name === \"buyAndHold\") setBuyAndHold(value);\n  };\n\n  const setParams = (params) => {\n    for (const [key, value] of Object.entries(params)) {\n      if (key === \"ticker\") setTicker(value.toUpperCase());\n      else if (key === \"interval\") setInterval(value);\n      else if (key === \"investment\") setInvestment(value);\n      else if (key === \"startDate\") setStartDate(value);\n      else if (key === \"endDate\") setEndDate(value);\n      else if (key === \"uid\") setUid(value);\n      else if (key === \"buyAndHold\") setBuyAndHold(value);\n    }\n  };\n\n  const executeTest = (event) => {\n    /**\n     * Execture the backtest with the given params.\n     *\n     * 1. fetch data\n     * 2. run algorithm\n     * 3. report results\n     *\n     */\n\n    var params = {\n      id: ticker,\n      interval: interval,\n      investment: investment,\n      sDate: startDate !== \"\" ? startDate : undefined,\n      eDate: endDate !== \"\" ? endDate : undefined,\n      strategy: strategy,\n    };\n\n    var query = queryString.stringify(params);\n    fetch(`/backtestStrategy${query !== \"\" ? \"?\" + query : \"\"}`)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        let formattedData = [];\n        data[\"data\"].forEach((d) => {\n          formattedData.push({\n            ...d,\n            date: new Date(d.date),\n          });\n        });\n        setOrders(data.orders);\n        setBuyAndHold(data.buyAndHold);\n        setData(formattedData);\n      });\n    console.log(\"execute test\");\n  };\n\n  const saveTest = (event) => {\n    /**\n     * Save the test to the firebase server\n     *\n     * 1. create a new firebase document with params\n     * 2. save the test to the users account\n     * 3. return UID\n     * 4. display UID\n     */\n\n    event.preventDefault();\n\n    let params = {\n      ticker: ticker,\n      interval: interval,\n      investment: investment,\n      startDate: startDate,\n      endDate: endDate,\n      buyPercent: null,\n      sellPercent: null,\n    };\n\n    createStrategyDocument(strategy, params)\n      .then((uid) => {\n        setUid(uid);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    console.log(\"saveTest\");\n  };\n\n  const fetchTest = (event) => {\n    event.preventDefault();\n    getStrategyDocument(strategy, uid).then((res) => {\n      console.log(res);\n      setParams(res);\n    });\n  };\n\n  const parseDate = timeParse(\"%Y-%m-%d\");\n\n  return (\n    <div>\n      {data.length > 0 && (\n        <div className=\"chartContainer\">\n          <VWAPChart data={data} />\n          <Orders orders={orders} buyAndHold={buyAndHold} />\n        </div>\n      )}\n      <div className=\"formContainer\">\n        <div className=\"testTerminal\">\n          {user !== null && user !== undefined && (\n            <div className=\"fetch\">\n              <input\n                id=\"uid\"\n                name=\"uid\"\n                placeholder=\"Search for a strategy here!\"\n                className=\"smaInput\"\n                value={uid}\n                onChange={onChangeHandler}\n              ></input>\n              <input\n                type=\"button\"\n                value=\"Fetch Strategy\"\n                className=\"fetchStratButton\"\n                onClick={fetchTest}\n              />\n            </div>\n          )}\n          <div className=\"paramCont\">\n            <div className=\"leftCol\">\n              <input\n                type=\"text\"\n                id=\"ticker\"\n                name=\"ticker\"\n                className=\"smaInput\"\n                placeholder=\"Ticker\"\n                value={ticker}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n              <select\n                className=\"interval\"\n                id=\"interval\"\n                name=\"interval\"\n                className=\"smaInput\"\n                value={interval}\n                onChange={onChangeHandler}\n              >\n                <option value=\"1Min\">1Min</option>\n                <option value=\"5Min\">5Min</option>\n                <option value=\"15Min\">15Min</option>\n                <option value=\"1D\">1Day</option>\n              </select>\n            </div>\n            <div className=\"rightCol\">\n              <input\n                id=\"investment\"\n                name=\"investment\"\n                className=\"smaInput\"\n                placeholder=\"How much to invest?\"\n                value={investment}\n                autoComplete=\"off\"\n                onChange={onChangeHandler}\n              ></input>\n              <div className=\"calendars\">\n                <input\n                  id=\"startDate\"\n                  name=\"startDate\"\n                  className=\"calendarInput\"\n                  placeholder=\"Start Date yyyy/mm/dd\"\n                  value={startDate}\n                  onChange={onChangeHandler}\n                />\n                <input\n                  id=\"endDate\"\n                  name=\"endDate\"\n                  className=\"calendarInput\"\n                  placeholder=\"End Date yyyy/mm/dd\"\n                  value={endDate}\n                  onChange={onChangeHandler}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"actionsRow\">\n            <input\n              type=\"button\"\n              className=\"actionButton\"\n              value=\"Run Test\"\n              onClick={executeTest}\n            />\n            {user !== null && user !== undefined && (\n              <input\n                type=\"button\"\n                className=\"actionButton\"\n                value=\"Save Test\"\n                onClick={saveTest}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport SMA from \"./SMA/SMA\";\nimport EMA from \"./EMA/EMA\";\nimport RSI from './RSI/RSI';\nimport MACD from './MACD/MACD'\nimport VWAP from './VWAP/VWAP'\n\nimport \"./backtest.css\";\n\nexport default function Backtest() {\n  const [strategy, setStrategy] = useState(\"SMA\");\n\n  const onChangeHandler = (event) => {\n    const { name, value } = event.currentTarget;\n    if (name === \"strategy\") setStrategy(value);\n  };\n\n  return (\n    <div className=\"App-header\">\n      <div className=\"header\">\n        <select\n          name=\"strategy\"\n          id=\"strategy\"\n          className=\"strategy\"\n          value={strategy}\n          required\n          onChange={(event) => onChangeHandler(event)}\n        >\n          <option value=\"\" disabled>\n            Choose Strategy\n          </option>\n          <option value=\"SMA\">SMA</option>\n          <option value=\"EMA\">EMA</option>\n          <option value=\"MACD\" disabled>MACD (under maintenance)</option>\n          <option value=\"RSI\">RSI</option>\n          <option value=\"VWAP\">VWAP</option>\n        </select>\n      </div>\n      {strategy === \"SMA\" && <SMA/>}\n      {strategy === \"EMA\" && <EMA/>}\n      {strategy === \"MACD\" && <MACD/>}\n      {strategy === \"RSI\" && <RSI/>}\n      {strategy === \"VWAP\" && <VWAP/>}\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { format } from \"d3-format\";\nimport { timeFormat } from \"d3-time-format\";\nimport {\n  elderRay,\n  ema,\n  discontinuousTimeScaleProviderBuilder,\n  Chart,\n  ChartCanvas,\n  CurrentCoordinate,\n  BarSeries,\n  CandlestickSeries,\n  ElderRaySeries,\n  LineSeries,\n  MovingAverageTooltip,\n  OHLCTooltip,\n  SingleValueTooltip,\n  lastVisibleItemBasedZoomAnchor,\n  XAxis,\n  YAxis,\n  CrossHairCursor,\n  EdgeIndicator,\n  MouseCoordinateX,\n  MouseCoordinateY,\n  ZoomButtons,\n  withDeviceRatio,\n  withSize,\n  RSISeries,\n  rsi,\n  sma,\n} from \"react-financial-charts\";\n\nexport default function Devpage(props) {\n  const ScaleProvider =\n    discontinuousTimeScaleProviderBuilder().inputDateAccessor(\n      (d) => new Date(d.date)\n    );\n  const height = 600;\n  const width = 1500;\n  const margin = { left: 0, right: 48, top: 0, bottom: 24 };\n\n  const ema12 = ema()\n    .id(1)\n    .options({ windowSize: 12 })\n    .merge((d, c) => {\n      d.ema12 = c;\n    })\n    .accessor((d) => d.ema12);\n\n  const ema26 = ema()\n    .id(2)\n    .options({ windowSize: 26 })\n    .merge((d, c) => {\n      d.ema26 = c;\n    })\n    .accessor((d) => d.ema26);\n\n  const elder = elderRay();\n  const calculatedData = elder(ema26(ema12(props.data)));\n\n  const myRSI = rsi()\n    .id(4)\n    .accessor((d, c) => {\n      console.log(d, c);\n      d.rsi = c;\n    })\n    .accessor((d) => d.rsi);\n\n  const sma20 = sma()\n    .id(5)\n    .options({ windowSize: 20 })\n    .merge((d, c) => {\n      d.sma20 = c;\n    })\n    .accessor((d) => d.sma20);\n  sma20(props.data);\n\n  const sma50 = sma()\n    .id(6)\n    .options({ windowSize: 50 })\n    .merge((d, c) => {\n      d.sma50 = c;\n    })\n    .accessor((d) => d.sma50);\n  sma50(props.data);\n\n  const sma200 = sma()\n    .id(7)\n    .options({ windowSize: 200 })\n    .merge((d, c) => {\n      d.sma200 = c;\n    })\n    .accessor((d) => d.sma200);\n  sma200(props.data);\n\n  const newData = myRSI(props.data);\n\n  const { data, xScale, xAccessor, displayXAccessor } = ScaleProvider(\n    props.data\n  );\n  const pricesDisplayFormat = format(\".2f\");\n  const max = xAccessor(data[data.length - 1]);\n  const min = xAccessor(data[Math.max(0, data.length - 100)]);\n  const xExtents = [min, max + 5];\n\n  const gridHeight = height - margin.top - margin.bottom;\n\n  //const elderRayHeight = 150;\n  //const elderRayOrigin = (_, h) => [0, h - elderRayHeight];\n  //const barChartHeight = gridHeight / 4;\n  //const barChartOrigin = (_, h) => [0, h - barChartHeight - elderRayHeight];\n\n  const balanceHeight = 150;\n  const balanceOrigin = [0, 0];\n  const chartHeight = 600;\n  const chartOrigin = [0, balanceHeight];\n  const barChartHeight = chartHeight / 4;\n  const barChartOrigin = [0, balanceHeight + chartHeight - barChartHeight];\n  const rsiHeight = 150;\n  const rsiOrigin = [0, balanceHeight + chartHeight];\n\n  const finalHeight = balanceHeight + chartHeight + rsiHeight + 25;\n\n  const yExtents = (data) => {\n    return [data.high, data.low];\n  };\n  const dateTimeFormat = \"%d %b '%y %I:%M\";\n  const timeDisplayFormat = timeFormat(dateTimeFormat);\n\n  const barChartExtents = (data) => {\n    return data.volume;\n  };\n\n  const candleChartExtents = (data) => {\n    return [data.high, data.low];\n  };\n\n  const yEdgeIndicator = (data) => {\n    return data.close;\n  };\n\n  const volumeColor = (data) => {\n    return data.close > data.open\n      ? \"rgba(38, 166, 154, 0.3)\"\n      : \"rgba(239, 83, 80, 0.3)\";\n  };\n\n  const volumeSeries = (data) => {\n    return data.volume;\n  };\n\n  const openCloseColor = (data) => {\n    return data.close > data.open ? \"#26a69a\" : \"#ef5350\";\n  };\n\n  const balanceSeries = (data) => {\n    return data.balance;\n  };\n\n  return (\n    <ChartCanvas\n      height={finalHeight}\n      ratio={3}\n      width={width}\n      margin={margin}\n      data={data}\n      displayXAccessor={displayXAccessor}\n      seriesName=\"Data\"\n      xScale={xScale}\n      xAccessor={xAccessor}\n      xExtents={xExtents}\n      zoomAnchor={lastVisibleItemBasedZoomAnchor}\n      className=\"canvas\"\n    >\n      <Chart\n        id={6}\n        height={balanceHeight}\n        origin={balanceOrigin}\n        yExtents={candleChartExtents}\n      >\n        <LineSeries yAccessor={balanceSeries} />\n        <XAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          showTickLabel={false}\n        />\n        <YAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          tickFormat={pricesDisplayFormat}\n        />\n        <CurrentCoordinate\n          yAccessor={balanceSeries}\n          fillStyle={ema26.stroke()}\n        />\n        <SingleValueTooltip\n          yAccessor={balanceSeries}\n          yLabel=\"Balance\"\n          yDisplayFormat={(d) => `${pricesDisplayFormat(d)}`}\n          origin={[8, 16]}\n        />\n      </Chart>\n      <Chart\n        id={2}\n        height={barChartHeight}\n        origin={barChartOrigin}\n        yExtents={barChartExtents}\n      >\n        <BarSeries fillStyle={volumeColor} yAccessor={volumeSeries} />\n      </Chart>\n      <Chart\n        id={3}\n        height={chartHeight}\n        yExtents={candleChartExtents}\n        origin={chartOrigin}\n      >\n        <XAxis showGridLines gridLinesStrokeStyle=\"#464646\" />\n        <YAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          tickFormat={pricesDisplayFormat}\n        />\n        <CandlestickSeries />\n        <LineSeries yAccessor={sma20.accessor()} strokeStyle={sma20.stroke()} />\n        <CurrentCoordinate\n          yAccessor={sma20.accessor()}\n          fillStyle={sma20.stroke()}\n        />\n        <LineSeries yAccessor={sma50.accessor()} strokeStyle={sma50.stroke()} />\n        <CurrentCoordinate\n          yAccessor={sma50.accessor()}\n          fillStyle={sma50.stroke()}\n        />\n        <LineSeries\n          yAccessor={sma200.accessor()}\n          strokeStyle={sma200.stroke()}\n        />\n        <CurrentCoordinate\n          yAccessor={sma200.accessor()}\n          fillStyle={sma200.stroke()}\n        />\n\n        <MouseCoordinateY\n          rectWidth={margin.right}\n          displayFormat={pricesDisplayFormat}\n        />\n        <EdgeIndicator\n          itemType=\"last\"\n          rectWidth={margin.right}\n          fill={openCloseColor}\n          lineStroke={openCloseColor}\n          displayFormat={pricesDisplayFormat}\n          yAccessor={yEdgeIndicator}\n        />\n        <MovingAverageTooltip\n          options={[\n            {\n              yAccessor: sma20.accessor(),\n              type: \"SMA\",\n              stroke: sma20.stroke(),\n              windowSize: sma20.options().windowSize,\n            },\n            {\n              yAccessor: sma50.accessor(),\n              type: \"SMA\",\n              stroke: sma50.stroke(),\n              windowSize: sma50.options().windowSize,\n            },\n            {\n              yAccessor: sma200.accessor(),\n              type: \"SMA\",\n              stroke: sma200.stroke(),\n              windowSize: sma200.options().windowSize,\n            },\n          ]}\n        />\n        <OHLCTooltip origin={[8, 16]} />\n      </Chart>\n      <Chart\n        id={4}\n        height={150}\n        yExtents={[10, 90]}\n        origin={rsiOrigin}\n        padding={{ top: 8, bottom: 8 }}\n      >\n        <XAxis\n          showGridLines\n          gridLinesStrokeStyle=\"#464646\"\n          showTickLabel={false}\n        />\n        <YAxis ticks={4} tickFormat={pricesDisplayFormat} />\n\n        <MouseCoordinateX displayFormat={timeDisplayFormat} />\n        <MouseCoordinateY\n          rectWidth={margin.right}\n          displayFormat={pricesDisplayFormat}\n        />\n\n        <RSISeries\n          yAccessor={myRSI.accessor()}\n          strokeStyle={{\n            line: \"rgba(110, 0, 179, 1)\",\n            top: \"#464646\",\n            middle: \"rgba(255, 255, 255, 0)\",\n            bottom: \"#464646\",\n            outsideThreshold: \"rgba(255, 0, 0, 1)\",\n          }}\n        />\n\n        <SingleValueTooltip\n          yAccessor={myRSI.accessor()}\n          yLabel=\"RSI\"\n          yDisplayFormat={(d) => `${pricesDisplayFormat(d)}`}\n          origin={[8, 16]}\n        />\n      </Chart>\n      <CrossHairCursor />\n    </ChartCanvas>\n  );\n}\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Homepage from './pages/Homepage/Homepage'\nimport Account from './pages/Account/Account'\nimport './App.css';\nimport Topbar from './components/TopBar/Topbar.js'\nimport UserProvider from './providers/UserProvider'\nimport SidebarContent from './components/Sidebar/Sidebar'\nimport Backtest from './pages/Backtest/Backtest'\nimport DevPage from './pages/DevPage/Devpage.js'\n\n\nclass App extends React.Component {\n\n  state = {\n    page: \"homepage\",\n    sidebarOpen: false,\n  }\n\n  render() {\n\n    return (\n      <UserProvider>\n        <Router>\n          <div className=\"App\">\n            <Topbar />\n          </div>\n\n          <Switch>\n            <Route path=\"/dev\">\n              <DevPage />\n            </Route>\n            <Route path=\"/backtest\">\n              <Backtest />\n            </Route>\n            <Route path=\"/account\">\n              <Account />\n            </Route>\n            <Route path=\"/\">\n              <Homepage />\n            </Route>\n          </Switch>\n        </Router>\n      </UserProvider>\n    );\n  }\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nrequire(\"dotenv\").config();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}